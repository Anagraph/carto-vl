/*!
 * CARTO GL js https://carto.com/
 * Version: 0.0.0-alpha.0
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.carto=t():e.carto=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=21)}([function(e,t,r){"use strict";var n=r(2),i=r(1),a=r(8);t.a=class{constructor(e){this.childrenNames=Object.keys(e),Object.keys(e).map(t=>this[t]=Object(n.b)(e[t])),this._getChildren().map(e=>e.parent=this),this._metaBindings=[],this.preface=""}_bind(e){return this._metaBindings.push(e),this._compile(e),this}_compile(e){this._getChildren().map(t=>t._compile(e))}_setGenericGLSL(e,t){this.inlineMaker=e,this.preface=t||""}_applyToShaderSource(e,t){const r=this.childrenNames.map(r=>this[r]._applyToShaderSource(e,t));let n={};return r.map((e,t)=>n[this.childrenNames[t]]=e.inline),{preface:r.map(e=>e.preface).reduce((e,t)=>e+t,"")+this.preface,inline:this.inlineMaker(n,e,t)}}_postShaderCompile(e,t){this.childrenNames.forEach(r=>this[r]._postShaderCompile(e,t))}_getDrawMetadataRequirements(){return this._getChildren().map(e=>e._getDrawMetadataRequirements()).reduce(a.union,a.IDENTITY)}_preDraw(...e){this.childrenNames.forEach(t=>this[t]._preDraw(...e))}isAnimated(){return this._getChildren().some(e=>e.isAnimated())}_replaceChild(e,t){this[this.childrenNames.find(t=>this[t]==e)]=t,t.parent=this,t.notify=e.notify}blendTo(e,t=500){e=Object(n.b)(e);const r=this.parent,a=Object(i.blend)(this,e,Object(i.animate)(t));this._metaBindings.map(e=>a._bind(e)),r._replaceChild(this,a),a.notify()}_getChildren(){return this.childrenNames.map(e=>this[e])}_getMinimumNeededSchema(){return this._getChildren().map(e=>e._getMinimumNeededSchema()).reduce(a.union,a.IDENTITY)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),i=r(10),a=r(27),o=r(28),f=r(29),s=r(30),c=r(31),u=r(32),l=r(33),h=r(34),d=r(35),p=r(36),b=r(37),g=r(38),v=r(39),y=r(40),m=r(41),_=r(42),x=r(43),w=r(4),E=r(3),A=r(7),S=r(11),C=r(44),T=r(45);r.d(t,"palettes",function(){return n.a}),r.d(t,"Asc",function(){return T.a}),r.d(t,"Desc",function(){return T.b});t.asc=((...e)=>new T.a(...e));t.desc=((...e)=>new T.b(...e));t.noOrder=((...e)=>new T.c(...e));t.width=((...e)=>new T.d(...e));t.floatMul=((...e)=>new E.e(...e));t.floatDiv=((...e)=>new E.c(...e));t.floatAdd=((...e)=>new E.b(...e));t.floatSub=((...e)=>new E.g(...e));t.floatPow=((...e)=>new E.f(...e));t.floatMod=((...e)=>new E.d(...e));t.log=((...e)=>new w.c(...e));t.sqrt=((...e)=>new w.f(...e));t.sin=((...e)=>new w.e(...e));t.cos=((...e)=>new w.b(...e));t.tan=((...e)=>new w.g(...e));t.sign=((...e)=>new w.d(...e));t.near=((...e)=>new h.a(...e));t.blend=((...e)=>new a.a(...e));t.rgba=((...e)=>new g.a(...e));t.property=((...e)=>new p.a(...e));t.animate=((...e)=>new i.a(...e));t.hsv=((...e)=>new u.a(...e));t.setOpacity=((...e)=>new v.a(...e));t.opacity=((...e)=>new v.a(...e));t.ramp=((...e)=>new b.a(...e));t.float=((...e)=>new s.a(...e));t.category=((...e)=>new c.a(...e));t.max=((...e)=>new A.b(...e));t.min=((...e)=>new A.c(...e));t.sum=((...e)=>new A.e(...e));t.avg=((...e)=>new A.a(...e));t.mode=((...e)=>new A.d(...e));t.top=((...e)=>new y.a(...e));t.linear=((...e)=>new l.a(...e));t.cubic=((...e)=>new S.a(...e));t.ilinear=((...e)=>new S.b(...e));t.now=((...e)=>new d.a(...e));t.zoom=((...e)=>new _.a(...e));t.cielab=((...e)=>new f.a(...e));t.xyz=((...e)=>new m.a(...e));t.abs=((...e)=>new w.a(...e));t.greaterThan=((...e)=>new E.h(...e));t.greaterThanOrEqualTo=((...e)=>new E.i(...e));t.lessThan=((...e)=>new E.j(...e));t.lessThanOrEqualTo=((...e)=>new E.k(...e));t.equals=((...e)=>new E.a(...e));t.notEquals=((...e)=>new E.l(...e));t.buckets=((...e)=>new o.a(...e));t.quantiles=((...e)=>new x.a(...e));t.viewportMax=((...e)=>new C.c(...e));t.viewportMin=((...e)=>new C.d(...e));t.viewportAvg=((...e)=>new C.a(...e));t.viewportSum=((...e)=>new C.f(...e));t.viewportCount=((...e)=>new C.b(...e));t.viewportPercentile=((...e)=>new C.e(...e))},function(e,t,r){"use strict";t.b=function(e){if(Number.isFinite(e))return Object(n.float)(e);if("string"==typeof e)return Object(n.category)(e);if(!(e instanceof i.a||e.length))throw new Error("value cannot be casted");return e},t.a=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null};var n=r(1),i=r(0)},function(e,t,r){"use strict";var n=r(1),i=r(2),a=r(0);const o=y((e,t)=>e*t,(e,t)=>`(${e} * ${t})`);t.e=o;const f=y((e,t)=>e/t,(e,t)=>`(${e} / ${t})`);t.c=f;const s=y((e,t)=>e+t,(e,t)=>`(${e} + ${t})`);t.b=s;const c=y((e,t)=>e-t,(e,t)=>`(${e} - ${t})`);t.g=c;const u=y((e,t)=>e%t,(e,t)=>`mod(${e}, ${t})`);t.d=u;const l=y((e,t)=>Math.pow(e,t),(e,t)=>`pow(${e}, ${t})`);t.f=l;const h=y((e,t)=>e>t?1:0,(e,t)=>`(${e}>${t}? 1.:0.)`);t.h=h;const d=y((e,t)=>e>=t?1:0,(e,t)=>`(${e}>=${t}? 1.:0.)`);t.i=d;const p=y((e,t)=>e<t?1:0,(e,t)=>`(${e}<${t}? 1.:0.)`);t.j=p;const b=y((e,t)=>e<=t?1:0,(e,t)=>`(${e}<=${t}? 1.:0.)`);t.k=b;const g=y((e,t)=>e==t?1:0,(e,t)=>`(${e}==${t}? 1.:0.)`);t.a=g;const v=y((e,t)=>e!=t?1:0,(e,t)=>`(${e}!=${t}? 1.:0.)`);function y(e,t){return class extends a.a{constructor(t,r){if(Number.isFinite(t)&&Number.isFinite(r))return Object(n.float)(e(t,r));t=Object(i.b)(t),r=Object(i.b)(r),"string"==typeof t&&([t,r]=[r,t]),"string"==typeof r?(super({a:t,auxFloat:Object(n.float)(0)}),this.b=r):super({a:t,b:r})}_compile(e){super._compile(e);const[r,n]=[this.a,this.b];if(this.inlineMaker=(e=>t(e.a,e.b)),"string"==typeof n&&"category"==r.type&&r.name){const r=e.categoryIDs[n];this.auxFloat.expr=r,this.type="float",this.inlineMaker=(e=>t(e.a,e.auxFloat))}else if("float"==r.type&&"float"==n.type)this.type="float";else if("color"==r.type&&"color"==n.type)this.type="color";else if("color"==r.type&&"float"==n.type)this.type="color";else{if("category"!=r.type||"category"!=n.type)throw new Error(`Binary operation cannot be performed between types '${r.type}' and '${n.type}'`);this.type="float"}}}}t.l=v},function(e,t,r){"use strict";var n=r(2),i=r(0);const a=h(e=>Math.log(e),e=>`log(${e})`);t.c=a;const o=h(e=>Math.sqrt(e),e=>`sqrt(${e})`);t.f=o;const f=h(e=>Math.sin(e),e=>`sin(${e})`);t.e=f;const s=h(e=>Math.cos(e),e=>`cos(${e})`);t.b=s;const c=h(e=>Math.tan(e),e=>`tan(${e})`);t.g=c;const u=h(e=>Math.sign(e),e=>`sign(${e})`);t.d=u;const l=h(e=>Math.abs(e),e=>`abs(${e})`);function h(e,t){return class extends i.a{constructor(e){super({a:e=Object(n.b)(e)})}_compile(e){if(super._compile(e),"float"!=this.a.type)throw new Error(`Binary operation cannot be performed to '${this.a.type}'`);this.type="float",this.inlineMaker=(e=>t(e.a))}}}t.a=l},function(e,t,r){"use strict";var n=r(69);t.a=class extends n.a{constructor(e,t){super({origin:"validation",type:e,message:t})}}},function(e,t,r){(function(e,n){var i;(function(){var a,o=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="__lodash_hash_undefined__",u=500,l="__lodash_placeholder__",h=1,d=2,p=4,b=1,g=2,v=1,y=2,m=4,_=8,x=16,w=32,E=64,A=128,S=256,C=512,T=30,D="...",F=800,R=16,B=1,k=2,M=1/0,O=9007199254740991,L=1.7976931348623157e308,I=NaN,U=4294967295,j=U-1,$=U>>>1,P=[["ary",A],["bind",v],["bindKey",y],["curry",_],["curryRight",x],["flip",C],["partial",w],["partialRight",E],["rearg",S]],z="[object Arguments]",N="[object Array]",q="[object AsyncFunction]",W="[object Boolean]",V="[object Date]",G="[object DOMException]",X="[object Error]",Z="[object Function]",Y="[object GeneratorFunction]",K="[object Map]",H="[object Number]",J="[object Null]",Q="[object Object]",ee="[object Proxy]",te="[object RegExp]",re="[object Set]",ne="[object String]",ie="[object Symbol]",ae="[object Undefined]",oe="[object WeakMap]",fe="[object WeakSet]",se="[object ArrayBuffer]",ce="[object DataView]",ue="[object Float32Array]",le="[object Float64Array]",he="[object Int8Array]",de="[object Int16Array]",pe="[object Int32Array]",be="[object Uint8Array]",ge="[object Uint8ClampedArray]",ve="[object Uint16Array]",ye="[object Uint32Array]",me=/\b__p \+= '';/g,_e=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Ae=RegExp(we.source),Se=RegExp(Ee.source),Ce=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,De=/<%=([\s\S]+?)%>/g,Fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(ke.source),Oe=/^\s+|\s+$/g,Le=/^\s+/,Ie=/\s+$/,Ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,$e=/,? & /,Pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/\\(\\)?/g,Ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,Ge=/^\[object .+?Constructor\]$/,Xe=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,He=/['\n\r\u2028\u2029\\]/g,Je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Qe+"]",rt="["+Je+"]",nt="\\d+",it="[\\u2700-\\u27bf]",at="[a-z\\xdf-\\xf6\\xf8-\\xff]",ot="[^\\ud800-\\udfff"+Qe+nt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ft="\\ud83c[\\udffb-\\udfff]",st="[^\\ud800-\\udfff]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",lt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ht="(?:"+at+"|"+ot+")",dt="(?:"+lt+"|"+ot+")",pt="(?:"+rt+"|"+ft+")"+"?",bt="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[st,ct,ut].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),gt="(?:"+[it,ct,ut].join("|")+")"+bt,vt="(?:"+[st+rt+"?",rt,ct,ut,et].join("|")+")",yt=RegExp("['’]","g"),mt=RegExp(rt,"g"),_t=RegExp(ft+"(?="+ft+")|"+vt+bt,"g"),xt=RegExp([lt+"?"+at+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,lt,"$"].join("|")+")",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,lt+ht,"$"].join("|")+")",lt+"?"+ht+"+(?:['’](?:d|ll|m|re|s|t|ve))?",lt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,gt].join("|"),"g"),wt=RegExp("[\\u200d\\ud800-\\udfff"+Je+"\\ufe0e\\ufe0f]"),Et=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,At=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],St=-1,Ct={};Ct[ue]=Ct[le]=Ct[he]=Ct[de]=Ct[pe]=Ct[be]=Ct[ge]=Ct[ve]=Ct[ye]=!0,Ct[z]=Ct[N]=Ct[se]=Ct[W]=Ct[ce]=Ct[V]=Ct[X]=Ct[Z]=Ct[K]=Ct[H]=Ct[Q]=Ct[te]=Ct[re]=Ct[ne]=Ct[oe]=!1;var Tt={};Tt[z]=Tt[N]=Tt[se]=Tt[ce]=Tt[W]=Tt[V]=Tt[ue]=Tt[le]=Tt[he]=Tt[de]=Tt[pe]=Tt[K]=Tt[H]=Tt[Q]=Tt[te]=Tt[re]=Tt[ne]=Tt[ie]=Tt[be]=Tt[ge]=Tt[ve]=Tt[ye]=!0,Tt[X]=Tt[Z]=Tt[oe]=!1;var Dt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ft=parseFloat,Rt=parseInt,Bt="object"==typeof e&&e&&e.Object===Object&&e,kt="object"==typeof self&&self&&self.Object===Object&&self,Mt=Bt||kt||Function("return this")(),Ot="object"==typeof t&&t&&!t.nodeType&&t,Lt=Ot&&"object"==typeof n&&n&&!n.nodeType&&n,It=Lt&&Lt.exports===Ot,Ut=It&&Bt.process,jt=function(){try{return Ut&&Ut.binding&&Ut.binding("util")}catch(e){}}(),$t=jt&&jt.isArrayBuffer,Pt=jt&&jt.isDate,zt=jt&&jt.isMap,Nt=jt&&jt.isRegExp,qt=jt&&jt.isSet,Wt=jt&&jt.isTypedArray;function Vt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Gt(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function Xt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Zt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Yt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Kt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function Ht(e,t){return!!(null==e?0:e.length)&&fr(e,t,0)>-1}function Jt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Qt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function er(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function tr(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function rr(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function nr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ir=lr("length");function ar(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function or(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function fr(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):or(e,cr,r)}function sr(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function cr(e){return e!=e}function ur(e,t){var r=null==e?0:e.length;return r?pr(e,t)/r:I}function lr(e){return function(t){return null==t?a:t[e]}}function hr(e){return function(t){return null==e?a:e[t]}}function dr(e,t,r,n,i){return i(e,function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)}),r}function pr(e,t){for(var r,n=-1,i=e.length;++n<i;){var o=t(e[n]);o!==a&&(r=r===a?o:r+o)}return r}function br(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function gr(e){return function(t){return e(t)}}function vr(e,t){return Qt(t,function(t){return e[t]})}function yr(e,t){return e.has(t)}function mr(e,t){for(var r=-1,n=e.length;++r<n&&fr(t,e[r],0)>-1;);return r}function _r(e,t){for(var r=e.length;r--&&fr(t,e[r],0)>-1;);return r}var xr=hr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),wr=hr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Er(e){return"\\"+Dt[e]}function Ar(e){return wt.test(e)}function Sr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function Cr(e,t){return function(r){return e(t(r))}}function Tr(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==l||(e[r]=l,a[i++]=r)}return a}function Dr(e,t){return"__proto__"==t?a:e[t]}function Fr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function Rr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function Br(e){return Ar(e)?function(e){var t=_t.lastIndex=0;for(;_t.test(e);)++t;return t}(e):ir(e)}function kr(e){return Ar(e)?function(e){return e.match(_t)||[]}(e):function(e){return e.split("")}(e)}var Mr=hr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Or=function e(t){var r,n=(t=null==t?Mt:Or.defaults(Mt.Object(),t,Or.pick(Mt,At))).Array,i=t.Date,Je=t.Error,Qe=t.Function,et=t.Math,tt=t.Object,rt=t.RegExp,nt=t.String,it=t.TypeError,at=n.prototype,ot=Qe.prototype,ft=tt.prototype,st=t["__core-js_shared__"],ct=ot.toString,ut=ft.hasOwnProperty,lt=0,ht=(r=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",dt=ft.toString,pt=ct.call(tt),bt=Mt._,gt=rt("^"+ct.call(ut).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=It?t.Buffer:a,_t=t.Symbol,wt=t.Uint8Array,Dt=vt?vt.allocUnsafe:a,Bt=Cr(tt.getPrototypeOf,tt),kt=tt.create,Ot=ft.propertyIsEnumerable,Lt=at.splice,Ut=_t?_t.isConcatSpreadable:a,jt=_t?_t.iterator:a,ir=_t?_t.toStringTag:a,hr=function(){try{var e=$a(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Lr=t.clearTimeout!==Mt.clearTimeout&&t.clearTimeout,Ir=i&&i.now!==Mt.Date.now&&i.now,Ur=t.setTimeout!==Mt.setTimeout&&t.setTimeout,jr=et.ceil,$r=et.floor,Pr=tt.getOwnPropertySymbols,zr=vt?vt.isBuffer:a,Nr=t.isFinite,qr=at.join,Wr=Cr(tt.keys,tt),Vr=et.max,Gr=et.min,Xr=i.now,Zr=t.parseInt,Yr=et.random,Kr=at.reverse,Hr=$a(t,"DataView"),Jr=$a(t,"Map"),Qr=$a(t,"Promise"),en=$a(t,"Set"),tn=$a(t,"WeakMap"),rn=$a(tt,"create"),nn=tn&&new tn,an={},on=uo(Hr),fn=uo(Jr),sn=uo(Qr),cn=uo(en),un=uo(tn),ln=_t?_t.prototype:a,hn=ln?ln.valueOf:a,dn=ln?ln.toString:a;function pn(e){if(Ff(e)&&!yf(e)&&!(e instanceof yn)){if(e instanceof vn)return e;if(ut.call(e,"__wrapped__"))return lo(e)}return new vn(e)}var bn=function(){function e(){}return function(t){if(!Df(t))return{};if(kt)return kt(t);e.prototype=t;var r=new e;return e.prototype=a,r}}();function gn(){}function vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function yn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function mn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function wn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new xn;++t<r;)this.add(e[t])}function En(e){var t=this.__data__=new _n(e);this.size=t.size}function An(e,t){var r=yf(e),n=!r&&vf(e),i=!r&&!n&&wf(e),a=!r&&!n&&!i&&Uf(e),o=r||n||i||a,f=o?br(e.length,nt):[],s=f.length;for(var c in e)!t&&!ut.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ga(c,s))||f.push(c);return f}function Sn(e){var t=e.length;return t?e[wi(0,t-1)]:a}function Cn(e,t){return fo(na(e),Ln(t,0,e.length))}function Tn(e){return fo(na(e))}function Dn(e,t,r){(r===a||pf(e[t],r))&&(r!==a||t in e)||Mn(e,t,r)}function Fn(e,t,r){var n=e[t];ut.call(e,t)&&pf(n,r)&&(r!==a||t in e)||Mn(e,t,r)}function Rn(e,t){for(var r=e.length;r--;)if(pf(e[r][0],t))return r;return-1}function Bn(e,t,r,n){return Pn(e,function(e,i,a){t(n,e,r(e),a)}),n}function kn(e,t){return e&&ia(t,as(t),e)}function Mn(e,t,r){"__proto__"==t&&hr?hr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function On(e,t){for(var r=-1,i=t.length,o=n(i),f=null==e;++r<i;)o[r]=f?a:es(e,t[r]);return o}function Ln(e,t,r){return e==e&&(r!==a&&(e=e<=r?e:r),t!==a&&(e=e>=t?e:t)),e}function In(e,t,r,n,i,o){var f,s=t&h,c=t&d,u=t&p;if(r&&(f=i?r(e,n,i,o):r(e)),f!==a)return f;if(!Df(e))return e;var l=yf(e);if(l){if(f=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ut.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!s)return na(e,f)}else{var b=Na(e),g=b==Z||b==Y;if(wf(e))return Hi(e,s);if(b==Q||b==z||g&&!i){if(f=c||g?{}:Wa(e),!s)return c?function(e,t){return ia(e,za(e),t)}(e,function(e,t){return e&&ia(t,os(t),e)}(f,e)):function(e,t){return ia(e,Pa(e),t)}(e,kn(f,e))}else{if(!Tt[b])return i?e:{};f=function(e,t,r){var n,i,a,o=e.constructor;switch(t){case se:return Ji(e);case W:case V:return new o(+e);case ce:return function(e,t){var r=t?Ji(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ue:case le:case he:case de:case pe:case be:case ge:case ve:case ye:return Qi(e,r);case K:return new o;case H:case ne:return new o(e);case te:return(a=new(i=e).constructor(i.source,qe.exec(i))).lastIndex=i.lastIndex,a;case re:return new o;case ie:return n=e,hn?tt(hn.call(n)):{}}}(e,b,s)}}o||(o=new En);var v=o.get(e);if(v)return v;if(o.set(e,f),Of(e))return e.forEach(function(n){f.add(In(n,t,r,n,e,o))}),f;if(Rf(e))return e.forEach(function(n,i){f.set(i,In(n,t,r,i,e,o))}),f;var y=l?a:(u?c?ka:Ba:c?os:as)(e);return Xt(y||e,function(n,i){y&&(n=e[i=n]),Fn(f,i,In(n,t,r,i,e,o))}),f}function Un(e,t,r){var n=r.length;if(null==e)return!n;for(e=tt(e);n--;){var i=r[n],o=t[i],f=e[i];if(f===a&&!(i in e)||!o(f))return!1}return!0}function jn(e,t,r){if("function"!=typeof e)throw new it(s);return no(function(){e.apply(a,r)},t)}function $n(e,t,r,n){var i=-1,a=Ht,f=!0,s=e.length,c=[],u=t.length;if(!s)return c;r&&(t=Qt(t,gr(r))),n?(a=Jt,f=!1):t.length>=o&&(a=yr,f=!1,t=new wn(t));e:for(;++i<s;){var l=e[i],h=null==r?l:r(l);if(l=n||0!==l?l:0,f&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;c.push(l)}else a(t,h,n)||c.push(l)}return c}pn.templateSettings={escape:Ce,evaluate:Te,interpolate:De,variable:"",imports:{_:pn}},pn.prototype=gn.prototype,pn.prototype.constructor=pn,vn.prototype=bn(gn.prototype),vn.prototype.constructor=vn,yn.prototype=bn(gn.prototype),yn.prototype.constructor=yn,mn.prototype.clear=function(){this.__data__=rn?rn(null):{},this.size=0},mn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},mn.prototype.get=function(e){var t=this.__data__;if(rn){var r=t[e];return r===c?a:r}return ut.call(t,e)?t[e]:a},mn.prototype.has=function(e){var t=this.__data__;return rn?t[e]!==a:ut.call(t,e)},mn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rn&&t===a?c:t,this},_n.prototype.clear=function(){this.__data__=[],this.size=0},_n.prototype.delete=function(e){var t=this.__data__,r=Rn(t,e);return!(r<0||(r==t.length-1?t.pop():Lt.call(t,r,1),--this.size,0))},_n.prototype.get=function(e){var t=this.__data__,r=Rn(t,e);return r<0?a:t[r][1]},_n.prototype.has=function(e){return Rn(this.__data__,e)>-1},_n.prototype.set=function(e,t){var r=this.__data__,n=Rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},xn.prototype.clear=function(){this.size=0,this.__data__={hash:new mn,map:new(Jr||_n),string:new mn}},xn.prototype.delete=function(e){var t=Ua(this,e).delete(e);return this.size-=t?1:0,t},xn.prototype.get=function(e){return Ua(this,e).get(e)},xn.prototype.has=function(e){return Ua(this,e).has(e)},xn.prototype.set=function(e,t){var r=Ua(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},wn.prototype.add=wn.prototype.push=function(e){return this.__data__.set(e,c),this},wn.prototype.has=function(e){return this.__data__.has(e)},En.prototype.clear=function(){this.__data__=new _n,this.size=0},En.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},En.prototype.get=function(e){return this.__data__.get(e)},En.prototype.has=function(e){return this.__data__.has(e)},En.prototype.set=function(e,t){var r=this.__data__;if(r instanceof _n){var n=r.__data__;if(!Jr||n.length<o-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new xn(n)}return r.set(e,t),this.size=r.size,this};var Pn=fa(Zn),zn=fa(Yn,!0);function Nn(e,t){var r=!0;return Pn(e,function(e,n,i){return r=!!t(e,n,i)}),r}function qn(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],f=t(o);if(null!=f&&(s===a?f==f&&!If(f):r(f,s)))var s=f,c=o}return c}function Wn(e,t){var r=[];return Pn(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function Vn(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=Va),i||(i=[]);++a<o;){var f=e[a];t>0&&r(f)?t>1?Vn(f,t-1,r,n,i):er(i,f):n||(i[i.length]=f)}return i}var Gn=sa(),Xn=sa(!0);function Zn(e,t){return e&&Gn(e,t,as)}function Yn(e,t){return e&&Xn(e,t,as)}function Kn(e,t){return Kt(t,function(t){return Sf(e[t])})}function Hn(e,t){for(var r=0,n=(t=Xi(t,e)).length;null!=e&&r<n;)e=e[co(t[r++])];return r&&r==n?e:a}function Jn(e,t,r){var n=t(e);return yf(e)?n:er(n,r(e))}function Qn(e){return null==e?e===a?ae:J:ir&&ir in tt(e)?function(e){var t=ut.call(e,ir),r=e[ir];try{e[ir]=a;var n=!0}catch(e){}var i=dt.call(e);return n&&(t?e[ir]=r:delete e[ir]),i}(e):function(e){return dt.call(e)}(e)}function ei(e,t){return e>t}function ti(e,t){return null!=e&&ut.call(e,t)}function ri(e,t){return null!=e&&t in tt(e)}function ni(e,t,r){for(var i=r?Jt:Ht,o=e[0].length,f=e.length,s=f,c=n(f),u=1/0,l=[];s--;){var h=e[s];s&&t&&(h=Qt(h,gr(t))),u=Gr(h.length,u),c[s]=!r&&(t||o>=120&&h.length>=120)?new wn(s&&h):a}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&l.length<u;){var b=h[d],g=t?t(b):b;if(b=r||0!==b?b:0,!(p?yr(p,g):i(l,g,r))){for(s=f;--s;){var v=c[s];if(!(v?yr(v,g):i(e[s],g,r)))continue e}p&&p.push(g),l.push(b)}}return l}function ii(e,t,r){var n=null==(e=to(e,t=Xi(t,e)))?e:e[co(Eo(t))];return null==n?a:Vt(n,e,r)}function ai(e){return Ff(e)&&Qn(e)==z}function oi(e,t,r,n,i){return e===t||(null==e||null==t||!Ff(e)&&!Ff(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var f=yf(e),s=yf(t),c=f?N:Na(e),u=s?N:Na(t),l=(c=c==z?Q:c)==Q,h=(u=u==z?Q:u)==Q,d=c==u;if(d&&wf(e)){if(!wf(t))return!1;f=!0,l=!1}if(d&&!l)return o||(o=new En),f||Uf(e)?Fa(e,t,r,n,i,o):function(e,t,r,n,i,a,o){switch(r){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case se:return!(e.byteLength!=t.byteLength||!a(new wt(e),new wt(t)));case W:case V:case H:return pf(+e,+t);case X:return e.name==t.name&&e.message==t.message;case te:case ne:return e==t+"";case K:var f=Sr;case re:var s=n&b;if(f||(f=Fr),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;n|=g,o.set(e,t);var u=Fa(f(e),f(t),n,i,a,o);return o.delete(e),u;case ie:if(hn)return hn.call(e)==hn.call(t)}return!1}(e,t,c,r,n,i,o);if(!(r&b)){var p=l&&ut.call(e,"__wrapped__"),v=h&&ut.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,m=v?t.value():t;return o||(o=new En),i(y,m,r,n,o)}}return!!d&&(o||(o=new En),function(e,t,r,n,i,o){var f=r&b,s=Ba(e),c=s.length,u=Ba(t).length;if(c!=u&&!f)return!1;for(var l=c;l--;){var h=s[l];if(!(f?h in t:ut.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var g=f;++l<c;){h=s[l];var v=e[h],y=t[h];if(n)var m=f?n(y,v,h,t,e,o):n(v,y,h,e,t,o);if(!(m===a?v===y||i(v,y,r,n,o):m)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,n,i,o))}(e,t,r,n,oi,i))}function fi(e,t,r,n){var i=r.length,o=i,f=!n;if(null==e)return!o;for(e=tt(e);i--;){var s=r[i];if(f&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=r[i])[0],u=e[c],l=s[1];if(f&&s[2]){if(u===a&&!(c in e))return!1}else{var h=new En;if(n)var d=n(u,l,c,e,t,h);if(!(d===a?oi(l,u,b|g,n,h):d))return!1}}return!0}function si(e){return!(!Df(e)||ht&&ht in e)&&(Sf(e)?gt:Ge).test(uo(e))}function ci(e){return"function"==typeof e?e:null==e?Bs:"object"==typeof e?yf(e)?bi(e[0],e[1]):pi(e):Ps(e)}function ui(e){if(!Ha(e))return Wr(e);var t=[];for(var r in tt(e))ut.call(e,r)&&"constructor"!=r&&t.push(r);return t}function li(e){if(!Df(e))return function(e){var t=[];if(null!=e)for(var r in tt(e))t.push(r);return t}(e);var t=Ha(e),r=[];for(var n in e)("constructor"!=n||!t&&ut.call(e,n))&&r.push(n);return r}function hi(e,t){return e<t}function di(e,t){var r=-1,i=_f(e)?n(e.length):[];return Pn(e,function(e,n,a){i[++r]=t(e,n,a)}),i}function pi(e){var t=ja(e);return 1==t.length&&t[0][2]?Qa(t[0][0],t[0][1]):function(r){return r===e||fi(r,e,t)}}function bi(e,t){return Za(e)&&Ja(t)?Qa(co(e),t):function(r){var n=es(r,e);return n===a&&n===t?ts(r,e):oi(t,n,b|g)}}function gi(e,t,r,n,i){e!==t&&Gn(t,function(o,f){if(Df(o))i||(i=new En),function(e,t,r,n,i,o,f){var s=Dr(e,r),c=Dr(t,r),u=f.get(c);if(u)Dn(e,r,u);else{var l=o?o(s,c,r+"",e,t,f):a,h=l===a;if(h){var d=yf(c),p=!d&&wf(c),b=!d&&!p&&Uf(c);l=c,d||p||b?yf(s)?l=s:xf(s)?l=na(s):p?(h=!1,l=Hi(c,!0)):b?(h=!1,l=Qi(c,!0)):l=[]:kf(c)||vf(c)?(l=s,vf(s)?l=Vf(s):(!Df(s)||n&&Sf(s))&&(l=Wa(c))):h=!1}h&&(f.set(c,l),i(l,c,n,o,f),f.delete(c)),Dn(e,r,l)}}(e,t,f,r,gi,n,i);else{var s=n?n(Dr(e,f),o,f+"",e,t,i):a;s===a&&(s=o),Dn(e,f,s)}},os)}function vi(e,t){var r=e.length;if(r)return Ga(t+=t<0?r:0,r)?e[t]:a}function yi(e,t,r){var n=-1;return t=Qt(t.length?t:[Bs],gr(Ia())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(di(e,function(e,r,i){return{criteria:Qt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,f=r.length;++n<o;){var s=ea(i[n],a[n]);if(s){if(n>=f)return s;var c=r[n];return s*("desc"==c?-1:1)}}return e.index-t.index}(e,t,r)})}function mi(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],f=Hn(e,o);r(f,o)&&Ti(a,Xi(o,e),f)}return a}function _i(e,t,r,n){var i=n?sr:fr,a=-1,o=t.length,f=e;for(e===t&&(t=na(t)),r&&(f=Qt(e,gr(r)));++a<o;)for(var s=0,c=t[a],u=r?r(c):c;(s=i(f,u,s,n))>-1;)f!==e&&Lt.call(f,s,1),Lt.call(e,s,1);return e}function xi(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;Ga(i)?Lt.call(e,i,1):$i(e,i)}}return e}function wi(e,t){return e+$r(Yr()*(t-e+1))}function Ei(e,t){var r="";if(!e||t<1||t>O)return r;do{t%2&&(r+=e),(t=$r(t/2))&&(e+=e)}while(t);return r}function Ai(e,t){return io(eo(e,t,Bs),e+"")}function Si(e){return Sn(ps(e))}function Ci(e,t){var r=ps(e);return fo(r,Ln(t,0,r.length))}function Ti(e,t,r,n){if(!Df(e))return e;for(var i=-1,o=(t=Xi(t,e)).length,f=o-1,s=e;null!=s&&++i<o;){var c=co(t[i]),u=r;if(i!=f){var l=s[c];(u=n?n(l,c,s):a)===a&&(u=Df(l)?l:Ga(t[i+1])?[]:{})}Fn(s,c,u),s=s[c]}return e}var Di=nn?function(e,t){return nn.set(e,t),e}:Bs,Fi=hr?function(e,t){return hr(e,"toString",{configurable:!0,enumerable:!1,value:Ds(t),writable:!0})}:Bs;function Ri(e){return fo(ps(e))}function Bi(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ki(e,t){var r;return Pn(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function Mi(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=$){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!If(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return Oi(e,t,Bs,r)}function Oi(e,t,r,n){t=r(t);for(var i=0,o=null==e?0:e.length,f=t!=t,s=null===t,c=If(t),u=t===a;i<o;){var l=$r((i+o)/2),h=r(e[l]),d=h!==a,p=null===h,b=h==h,g=If(h);if(f)var v=n||b;else v=u?b&&(n||d):s?b&&d&&(n||!p):c?b&&d&&!p&&(n||!g):!p&&!g&&(n?h<=t:h<t);v?i=l+1:o=l}return Gr(o,j)}function Li(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],f=t?t(o):o;if(!r||!pf(f,s)){var s=f;a[i++]=0===o?0:o}}return a}function Ii(e){return"number"==typeof e?e:If(e)?I:+e}function Ui(e){if("string"==typeof e)return e;if(yf(e))return Qt(e,Ui)+"";if(If(e))return dn?dn.call(e):"";var t=e+"";return"0"==t&&1/e==-M?"-0":t}function ji(e,t,r){var n=-1,i=Ht,a=e.length,f=!0,s=[],c=s;if(r)f=!1,i=Jt;else if(a>=o){var u=t?null:Ea(e);if(u)return Fr(u);f=!1,i=yr,c=new wn}else c=t?[]:s;e:for(;++n<a;){var l=e[n],h=t?t(l):l;if(l=r||0!==l?l:0,f&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),s.push(l)}else i(c,h,r)||(c!==s&&c.push(h),s.push(l))}return s}function $i(e,t){return null==(e=to(e,t=Xi(t,e)))||delete e[co(Eo(t))]}function Pi(e,t,r,n){return Ti(e,t,r(Hn(e,t)),n)}function zi(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?Bi(e,n?0:a,n?a+1:i):Bi(e,n?a+1:0,n?i:a)}function Ni(e,t){var r=e;return r instanceof yn&&(r=r.value()),tr(t,function(e,t){return t.func.apply(t.thisArg,er([e],t.args))},r)}function qi(e,t,r){var i=e.length;if(i<2)return i?ji(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var f=e[a],s=-1;++s<i;)s!=a&&(o[a]=$n(o[a]||f,e[s],t,r));return ji(Vn(o,1),t,r)}function Wi(e,t,r){for(var n=-1,i=e.length,o=t.length,f={};++n<i;){var s=n<o?t[n]:a;r(f,e[n],s)}return f}function Vi(e){return xf(e)?e:[]}function Gi(e){return"function"==typeof e?e:Bs}function Xi(e,t){return yf(e)?e:Za(e,t)?[e]:so(Gf(e))}var Zi=Ai;function Yi(e,t,r){var n=e.length;return r=r===a?n:r,!t&&r>=n?e:Bi(e,t,r)}var Ki=Lr||function(e){return Mt.clearTimeout(e)};function Hi(e,t){if(t)return e.slice();var r=e.length,n=Dt?Dt(r):new e.constructor(r);return e.copy(n),n}function Ji(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Qi(e,t){var r=t?Ji(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ea(e,t){if(e!==t){var r=e!==a,n=null===e,i=e==e,o=If(e),f=t!==a,s=null===t,c=t==t,u=If(t);if(!s&&!u&&!o&&e>t||o&&f&&c&&!s&&!u||n&&f&&c||!r&&c||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||s&&r&&i||!f&&i||!c)return-1}return 0}function ta(e,t,r,i){for(var a=-1,o=e.length,f=r.length,s=-1,c=t.length,u=Vr(o-f,0),l=n(c+u),h=!i;++s<c;)l[s]=t[s];for(;++a<f;)(h||a<o)&&(l[r[a]]=e[a]);for(;u--;)l[s++]=e[a++];return l}function ra(e,t,r,i){for(var a=-1,o=e.length,f=-1,s=r.length,c=-1,u=t.length,l=Vr(o-s,0),h=n(l+u),d=!i;++a<l;)h[a]=e[a];for(var p=a;++c<u;)h[p+c]=t[c];for(;++f<s;)(d||a<o)&&(h[p+r[f]]=e[a++]);return h}function na(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function ia(e,t,r,n){var i=!r;r||(r={});for(var o=-1,f=t.length;++o<f;){var s=t[o],c=n?n(r[s],e[s],s,r,e):a;c===a&&(c=e[s]),i?Mn(r,s,c):Fn(r,s,c)}return r}function aa(e,t){return function(r,n){var i=yf(r)?Gt:Bn,a=t?t():{};return i(r,e,Ia(n,2),a)}}function oa(e){return Ai(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:a,f=i>2?r[2]:a;for(o=e.length>3&&"function"==typeof o?(i--,o):a,f&&Xa(r[0],r[1],f)&&(o=i<3?a:o,i=1),t=tt(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t})}function fa(e,t){return function(r,n){if(null==r)return r;if(!_f(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=tt(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function sa(e){return function(t,r,n){for(var i=-1,a=tt(t),o=n(t),f=o.length;f--;){var s=o[e?f:++i];if(!1===r(a[s],s,a))break}return t}}function ca(e){return function(t){var r=Ar(t=Gf(t))?kr(t):a,n=r?r[0]:t.charAt(0),i=r?Yi(r,1).join(""):t.slice(1);return n[e]()+i}}function ua(e){return function(t){return tr(Ss(vs(t).replace(yt,"")),e,"")}}function la(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=bn(e.prototype),n=e.apply(r,t);return Df(n)?n:r}}function ha(e){return function(t,r,n){var i=tt(t);if(!_f(t)){var o=Ia(r,3);t=as(t),r=function(e){return o(i[e],e,i)}}var f=e(t,r,n);return f>-1?i[o?t[f]:f]:a}}function da(e){return Ra(function(t){var r=t.length,n=r,i=vn.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new it(s);if(i&&!f&&"wrapper"==Oa(o))var f=new vn([],!0)}for(n=f?n:r;++n<r;){var c=Oa(o=t[n]),u="wrapper"==c?Ma(o):a;f=u&&Ya(u[0])&&u[1]==(A|_|w|S)&&!u[4].length&&1==u[9]?f[Oa(u[0])].apply(f,u[3]):1==o.length&&Ya(o)?f[c]():f.thru(o)}return function(){var e=arguments,n=e[0];if(f&&1==e.length&&yf(n))return f.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}})}function pa(e,t,r,i,o,f,s,c,u,l){var h=t&A,d=t&v,p=t&y,b=t&(_|x),g=t&C,m=p?a:la(e);return function v(){for(var y=arguments.length,_=n(y),x=y;x--;)_[x]=arguments[x];if(b)var w=La(v),E=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,w);if(i&&(_=ta(_,i,o,b)),f&&(_=ra(_,f,s,b)),y-=E,b&&y<l){var A=Tr(_,w);return xa(e,t,pa,v.placeholder,r,_,A,c,u,l-y)}var S=d?r:this,C=p?S[e]:e;return y=_.length,c?_=function(e,t){for(var r=e.length,n=Gr(t.length,r),i=na(e);n--;){var o=t[n];e[n]=Ga(o,r)?i[o]:a}return e}(_,c):g&&y>1&&_.reverse(),h&&u<y&&(_.length=u),this&&this!==Mt&&this instanceof v&&(C=m||la(C)),C.apply(S,_)}}function ba(e,t){return function(r,n){return function(e,t,r,n){return Zn(e,function(e,i,a){t(n,r(e),i,a)}),n}(r,e,t(n),{})}}function ga(e,t){return function(r,n){var i;if(r===a&&n===a)return t;if(r!==a&&(i=r),n!==a){if(i===a)return n;"string"==typeof r||"string"==typeof n?(r=Ui(r),n=Ui(n)):(r=Ii(r),n=Ii(n)),i=e(r,n)}return i}}function va(e){return Ra(function(t){return t=Qt(t,gr(Ia())),Ai(function(r){var n=this;return e(t,function(e){return Vt(e,n,r)})})})}function ya(e,t){var r=(t=t===a?" ":Ui(t)).length;if(r<2)return r?Ei(t,e):t;var n=Ei(t,jr(e/Br(t)));return Ar(t)?Yi(kr(n),0,e).join(""):n.slice(0,e)}function ma(e){return function(t,r,i){return i&&"number"!=typeof i&&Xa(t,r,i)&&(r=i=a),t=zf(t),r===a?(r=t,t=0):r=zf(r),function(e,t,r,i){for(var a=-1,o=Vr(jr((t-e)/(r||1)),0),f=n(o);o--;)f[i?o:++a]=e,e+=r;return f}(t,r,i=i===a?t<r?1:-1:zf(i),e)}}function _a(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Wf(t),r=Wf(r)),e(t,r)}}function xa(e,t,r,n,i,o,f,s,c,u){var l=t&_;t|=l?w:E,(t&=~(l?E:w))&m||(t&=~(v|y));var h=[e,t,i,l?o:a,l?f:a,l?a:o,l?a:f,s,c,u],d=r.apply(a,h);return Ya(e)&&ro(d,h),d.placeholder=n,ao(d,e,t)}function wa(e){var t=et[e];return function(e,r){if(e=Wf(e),r=null==r?0:Gr(Nf(r),292)){var n=(Gf(e)+"e").split("e");return+((n=(Gf(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ea=en&&1/Fr(new en([,-0]))[1]==M?function(e){return new en(e)}:Is;function Aa(e){return function(t){var r=Na(t);return r==K?Sr(t):r==re?Rr(t):function(e,t){return Qt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Sa(e,t,r,i,o,f,c,u){var h=t&y;if(!h&&"function"!=typeof e)throw new it(s);var d=i?i.length:0;if(d||(t&=~(w|E),i=o=a),c=c===a?c:Vr(Nf(c),0),u=u===a?u:Nf(u),d-=o?o.length:0,t&E){var p=i,b=o;i=o=a}var g=h?a:Ma(e),C=[e,t,r,i,o,p,b,f,c,u];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<(v|y|A),o=n==A&&r==_||n==A&&r==S&&e[7].length<=t[8]||n==(A|S)&&t[7].length<=t[8]&&r==_;if(!a&&!o)return e;n&v&&(e[2]=t[2],i|=r&v?0:m);var f=t[3];if(f){var s=e[3];e[3]=s?ta(s,f,t[4]):f,e[4]=s?Tr(e[3],l):t[4]}(f=t[5])&&(s=e[5],e[5]=s?ra(s,f,t[6]):f,e[6]=s?Tr(e[5],l):t[6]),(f=t[7])&&(e[7]=f),n&A&&(e[8]=null==e[8]?t[8]:Gr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(C,g),e=C[0],t=C[1],r=C[2],i=C[3],o=C[4],!(u=C[9]=C[9]===a?h?0:e.length:Vr(C[9]-d,0))&&t&(_|x)&&(t&=~(_|x)),t&&t!=v)T=t==_||t==x?function(e,t,r){var i=la(e);return function o(){for(var f=arguments.length,s=n(f),c=f,u=La(o);c--;)s[c]=arguments[c];var l=f<3&&s[0]!==u&&s[f-1]!==u?[]:Tr(s,u);return(f-=l.length)<r?xa(e,t,pa,o.placeholder,a,s,l,a,a,r-f):Vt(this&&this!==Mt&&this instanceof o?i:e,this,s)}}(e,t,u):t!=w&&t!=(v|w)||o.length?pa.apply(a,C):function(e,t,r,i){var a=t&v,o=la(e);return function t(){for(var f=-1,s=arguments.length,c=-1,u=i.length,l=n(u+s),h=this&&this!==Mt&&this instanceof t?o:e;++c<u;)l[c]=i[c];for(;s--;)l[c++]=arguments[++f];return Vt(h,a?r:this,l)}}(e,t,r,i);else var T=function(e,t,r){var n=t&v,i=la(e);return function t(){return(this&&this!==Mt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return ao((g?Di:ro)(T,C),e,t)}function Ca(e,t,r,n){return e===a||pf(e,ft[r])&&!ut.call(n,r)?t:e}function Ta(e,t,r,n,i,o){return Df(e)&&Df(t)&&(o.set(t,e),gi(e,t,a,Ta,o),o.delete(t)),e}function Da(e){return kf(e)?a:e}function Fa(e,t,r,n,i,o){var f=r&b,s=e.length,c=t.length;if(s!=c&&!(f&&c>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var l=-1,h=!0,d=r&g?new wn:a;for(o.set(e,t),o.set(t,e);++l<s;){var p=e[l],v=t[l];if(n)var y=f?n(v,p,l,t,e,o):n(p,v,l,e,t,o);if(y!==a){if(y)continue;h=!1;break}if(d){if(!nr(t,function(e,t){if(!yr(d,t)&&(p===e||i(p,e,r,n,o)))return d.push(t)})){h=!1;break}}else if(p!==v&&!i(p,v,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Ra(e){return io(eo(e,a,yo),e+"")}function Ba(e){return Jn(e,as,Pa)}function ka(e){return Jn(e,os,za)}var Ma=nn?function(e){return nn.get(e)}:Is;function Oa(e){for(var t=e.name+"",r=an[t],n=ut.call(an,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function La(e){return(ut.call(pn,"placeholder")?pn:e).placeholder}function Ia(){var e=pn.iteratee||ks;return e=e===ks?ci:e,arguments.length?e(arguments[0],arguments[1]):e}function Ua(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ja(e){for(var t=as(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ja(i)]}return t}function $a(e,t){var r=function(e,t){return null==e?a:e[t]}(e,t);return si(r)?r:a}var Pa=Pr?function(e){return null==e?[]:(e=tt(e),Kt(Pr(e),function(t){return Ot.call(e,t)}))}:qs,za=Pr?function(e){for(var t=[];e;)er(t,Pa(e)),e=Bt(e);return t}:qs,Na=Qn;function qa(e,t,r){for(var n=-1,i=(t=Xi(t,e)).length,a=!1;++n<i;){var o=co(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Tf(i)&&Ga(o,i)&&(yf(e)||vf(e))}function Wa(e){return"function"!=typeof e.constructor||Ha(e)?{}:bn(Bt(e))}function Va(e){return yf(e)||vf(e)||!!(Ut&&e&&e[Ut])}function Ga(e,t){var r=typeof e;return!!(t=null==t?O:t)&&("number"==r||"symbol"!=r&&Ze.test(e))&&e>-1&&e%1==0&&e<t}function Xa(e,t,r){if(!Df(r))return!1;var n=typeof t;return!!("number"==n?_f(r)&&Ga(t,r.length):"string"==n&&t in r)&&pf(r[t],e)}function Za(e,t){if(yf(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!If(e))||Re.test(e)||!Fe.test(e)||null!=t&&e in tt(t)}function Ya(e){var t=Oa(e),r=pn[t];if("function"!=typeof r||!(t in yn.prototype))return!1;if(e===r)return!0;var n=Ma(r);return!!n&&e===n[0]}(Hr&&Na(new Hr(new ArrayBuffer(1)))!=ce||Jr&&Na(new Jr)!=K||Qr&&"[object Promise]"!=Na(Qr.resolve())||en&&Na(new en)!=re||tn&&Na(new tn)!=oe)&&(Na=function(e){var t=Qn(e),r=t==Q?e.constructor:a,n=r?uo(r):"";if(n)switch(n){case on:return ce;case fn:return K;case sn:return"[object Promise]";case cn:return re;case un:return oe}return t});var Ka=st?Sf:Ws;function Ha(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ft)}function Ja(e){return e==e&&!Df(e)}function Qa(e,t){return function(r){return null!=r&&r[e]===t&&(t!==a||e in tt(r))}}function eo(e,t,r){return t=Vr(t===a?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=Vr(i.length-t,0),f=n(o);++a<o;)f[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(f),Vt(e,this,s)}}function to(e,t){return t.length<2?e:Hn(e,Bi(t,0,-1))}var ro=oo(Di),no=Ur||function(e,t){return Mt.setTimeout(e,t)},io=oo(Fi);function ao(e,t,r){var n=t+"";return io(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Ue,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Xt(P,function(r){var n="_."+r[0];t&r[1]&&!Ht(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(je);return t?t[1].split($e):[]}(n),r)))}function oo(e){var t=0,r=0;return function(){var n=Xr(),i=R-(n-r);if(r=n,i>0){if(++t>=F)return arguments[0]}else t=0;return e.apply(a,arguments)}}function fo(e,t){var r=-1,n=e.length,i=n-1;for(t=t===a?n:t;++r<t;){var o=wi(r,i),f=e[o];e[o]=e[r],e[r]=f}return e.length=t,e}var so=function(e){var t=sf(e,function(e){return r.size===u&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Be,function(e,r,n,i){t.push(n?i.replace(ze,"$1"):r||e)}),t});function co(e){if("string"==typeof e||If(e))return e;var t=e+"";return"0"==t&&1/e==-M?"-0":t}function uo(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function lo(e){if(e instanceof yn)return e.clone();var t=new vn(e.__wrapped__,e.__chain__);return t.__actions__=na(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ho=Ai(function(e,t){return xf(e)?$n(e,Vn(t,1,xf,!0)):[]}),po=Ai(function(e,t){var r=Eo(t);return xf(r)&&(r=a),xf(e)?$n(e,Vn(t,1,xf,!0),Ia(r,2)):[]}),bo=Ai(function(e,t){var r=Eo(t);return xf(r)&&(r=a),xf(e)?$n(e,Vn(t,1,xf,!0),a,r):[]});function go(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Nf(r);return i<0&&(i=Vr(n+i,0)),or(e,Ia(t,3),i)}function vo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==a&&(i=Nf(r),i=r<0?Vr(n+i,0):Gr(i,n-1)),or(e,Ia(t,3),i,!0)}function yo(e){return null!=e&&e.length?Vn(e,1):[]}function mo(e){return e&&e.length?e[0]:a}var _o=Ai(function(e){var t=Qt(e,Vi);return t.length&&t[0]===e[0]?ni(t):[]}),xo=Ai(function(e){var t=Eo(e),r=Qt(e,Vi);return t===Eo(r)?t=a:r.pop(),r.length&&r[0]===e[0]?ni(r,Ia(t,2)):[]}),wo=Ai(function(e){var t=Eo(e),r=Qt(e,Vi);return(t="function"==typeof t?t:a)&&r.pop(),r.length&&r[0]===e[0]?ni(r,a,t):[]});function Eo(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Ao=Ai(So);function So(e,t){return e&&e.length&&t&&t.length?_i(e,t):e}var Co=Ra(function(e,t){var r=null==e?0:e.length,n=On(e,t);return xi(e,Qt(t,function(e){return Ga(e,r)?+e:e}).sort(ea)),n});function To(e){return null==e?e:Kr.call(e)}var Do=Ai(function(e){return ji(Vn(e,1,xf,!0))}),Fo=Ai(function(e){var t=Eo(e);return xf(t)&&(t=a),ji(Vn(e,1,xf,!0),Ia(t,2))}),Ro=Ai(function(e){var t=Eo(e);return t="function"==typeof t?t:a,ji(Vn(e,1,xf,!0),a,t)});function Bo(e){if(!e||!e.length)return[];var t=0;return e=Kt(e,function(e){if(xf(e))return t=Vr(e.length,t),!0}),br(t,function(t){return Qt(e,lr(t))})}function ko(e,t){if(!e||!e.length)return[];var r=Bo(e);return null==t?r:Qt(r,function(e){return Vt(t,a,e)})}var Mo=Ai(function(e,t){return xf(e)?$n(e,t):[]}),Oo=Ai(function(e){return qi(Kt(e,xf))}),Lo=Ai(function(e){var t=Eo(e);return xf(t)&&(t=a),qi(Kt(e,xf),Ia(t,2))}),Io=Ai(function(e){var t=Eo(e);return t="function"==typeof t?t:a,qi(Kt(e,xf),a,t)}),Uo=Ai(Bo);var jo=Ai(function(e){var t=e.length,r=t>1?e[t-1]:a;return ko(e,r="function"==typeof r?(e.pop(),r):a)});function $o(e){var t=pn(e);return t.__chain__=!0,t}function Po(e,t){return t(e)}var zo=Ra(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return On(t,e)};return!(t>1||this.__actions__.length)&&n instanceof yn&&Ga(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:Po,args:[i],thisArg:a}),new vn(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(a),e})):this.thru(i)});var No=aa(function(e,t,r){ut.call(e,r)?++e[r]:Mn(e,r,1)});var qo=ha(go),Wo=ha(vo);function Vo(e,t){return(yf(e)?Xt:Pn)(e,Ia(t,3))}function Go(e,t){return(yf(e)?Zt:zn)(e,Ia(t,3))}var Xo=aa(function(e,t,r){ut.call(e,r)?e[r].push(t):Mn(e,r,[t])});var Zo=Ai(function(e,t,r){var i=-1,a="function"==typeof t,o=_f(e)?n(e.length):[];return Pn(e,function(e){o[++i]=a?Vt(t,e,r):ii(e,t,r)}),o}),Yo=aa(function(e,t,r){Mn(e,r,t)});function Ko(e,t){return(yf(e)?Qt:di)(e,Ia(t,3))}var Ho=aa(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var Jo=Ai(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Xa(e,t[0],t[1])?t=[]:r>2&&Xa(t[0],t[1],t[2])&&(t=[t[0]]),yi(e,Vn(t,1),[])}),Qo=Ir||function(){return Mt.Date.now()};function ef(e,t,r){return t=r?a:t,t=e&&null==t?e.length:t,Sa(e,A,a,a,a,a,t)}function tf(e,t){var r;if("function"!=typeof t)throw new it(s);return e=Nf(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=a),r}}var rf=Ai(function(e,t,r){var n=v;if(r.length){var i=Tr(r,La(rf));n|=w}return Sa(e,n,t,r,i)}),nf=Ai(function(e,t,r){var n=v|y;if(r.length){var i=Tr(r,La(nf));n|=w}return Sa(t,n,e,r,i)});function af(e,t,r){var n,i,o,f,c,u,l=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new it(s);function b(t){var r=n,o=i;return n=i=a,l=t,f=e.apply(o,r)}function g(e){var r=e-u;return u===a||r>=t||r<0||d&&e-l>=o}function v(){var e=Qo();if(g(e))return y(e);c=no(v,function(e){var r=t-(e-u);return d?Gr(r,o-(e-l)):r}(e))}function y(e){return c=a,p&&n?b(e):(n=i=a,f)}function m(){var e=Qo(),r=g(e);if(n=arguments,i=this,u=e,r){if(c===a)return function(e){return l=e,c=no(v,t),h?b(e):f}(u);if(d)return c=no(v,t),b(u)}return c===a&&(c=no(v,t)),f}return t=Wf(t)||0,Df(r)&&(h=!!r.leading,o=(d="maxWait"in r)?Vr(Wf(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),m.cancel=function(){c!==a&&Ki(c),l=0,n=u=i=c=a},m.flush=function(){return c===a?f:y(Qo())},m}var of=Ai(function(e,t){return jn(e,1,t)}),ff=Ai(function(e,t,r){return jn(e,Wf(t)||0,r)});function sf(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(s);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(sf.Cache||xn),r}function cf(e){if("function"!=typeof e)throw new it(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}sf.Cache=xn;var uf=Zi(function(e,t){var r=(t=1==t.length&&yf(t[0])?Qt(t[0],gr(Ia())):Qt(Vn(t,1),gr(Ia()))).length;return Ai(function(n){for(var i=-1,a=Gr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return Vt(e,this,n)})}),lf=Ai(function(e,t){var r=Tr(t,La(lf));return Sa(e,w,a,t,r)}),hf=Ai(function(e,t){var r=Tr(t,La(hf));return Sa(e,E,a,t,r)}),df=Ra(function(e,t){return Sa(e,S,a,a,a,t)});function pf(e,t){return e===t||e!=e&&t!=t}var bf=_a(ei),gf=_a(function(e,t){return e>=t}),vf=ai(function(){return arguments}())?ai:function(e){return Ff(e)&&ut.call(e,"callee")&&!Ot.call(e,"callee")},yf=n.isArray,mf=$t?gr($t):function(e){return Ff(e)&&Qn(e)==se};function _f(e){return null!=e&&Tf(e.length)&&!Sf(e)}function xf(e){return Ff(e)&&_f(e)}var wf=zr||Ws,Ef=Pt?gr(Pt):function(e){return Ff(e)&&Qn(e)==V};function Af(e){if(!Ff(e))return!1;var t=Qn(e);return t==X||t==G||"string"==typeof e.message&&"string"==typeof e.name&&!kf(e)}function Sf(e){if(!Df(e))return!1;var t=Qn(e);return t==Z||t==Y||t==q||t==ee}function Cf(e){return"number"==typeof e&&e==Nf(e)}function Tf(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=O}function Df(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ff(e){return null!=e&&"object"==typeof e}var Rf=zt?gr(zt):function(e){return Ff(e)&&Na(e)==K};function Bf(e){return"number"==typeof e||Ff(e)&&Qn(e)==H}function kf(e){if(!Ff(e)||Qn(e)!=Q)return!1;var t=Bt(e);if(null===t)return!0;var r=ut.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ct.call(r)==pt}var Mf=Nt?gr(Nt):function(e){return Ff(e)&&Qn(e)==te};var Of=qt?gr(qt):function(e){return Ff(e)&&Na(e)==re};function Lf(e){return"string"==typeof e||!yf(e)&&Ff(e)&&Qn(e)==ne}function If(e){return"symbol"==typeof e||Ff(e)&&Qn(e)==ie}var Uf=Wt?gr(Wt):function(e){return Ff(e)&&Tf(e.length)&&!!Ct[Qn(e)]};var jf=_a(hi),$f=_a(function(e,t){return e<=t});function Pf(e){if(!e)return[];if(_f(e))return Lf(e)?kr(e):na(e);if(jt&&e[jt])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[jt]());var t=Na(e);return(t==K?Sr:t==re?Fr:ps)(e)}function zf(e){return e?(e=Wf(e))===M||e===-M?(e<0?-1:1)*L:e==e?e:0:0===e?e:0}function Nf(e){var t=zf(e),r=t%1;return t==t?r?t-r:t:0}function qf(e){return e?Ln(Nf(e),0,U):0}function Wf(e){if("number"==typeof e)return e;if(If(e))return I;if(Df(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Df(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Oe,"");var r=Ve.test(e);return r||Xe.test(e)?Rt(e.slice(2),r?2:8):We.test(e)?I:+e}function Vf(e){return ia(e,os(e))}function Gf(e){return null==e?"":Ui(e)}var Xf=oa(function(e,t){if(Ha(t)||_f(t))ia(t,as(t),e);else for(var r in t)ut.call(t,r)&&Fn(e,r,t[r])}),Zf=oa(function(e,t){ia(t,os(t),e)}),Yf=oa(function(e,t,r,n){ia(t,os(t),e,n)}),Kf=oa(function(e,t,r,n){ia(t,as(t),e,n)}),Hf=Ra(On);var Jf=Ai(function(e,t){e=tt(e);var r=-1,n=t.length,i=n>2?t[2]:a;for(i&&Xa(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],f=os(o),s=-1,c=f.length;++s<c;){var u=f[s],l=e[u];(l===a||pf(l,ft[u])&&!ut.call(e,u))&&(e[u]=o[u])}return e}),Qf=Ai(function(e){return e.push(a,Ta),Vt(ss,a,e)});function es(e,t,r){var n=null==e?a:Hn(e,t);return n===a?r:n}function ts(e,t){return null!=e&&qa(e,t,ri)}var rs=ba(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=r},Ds(Bs)),ns=ba(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),ut.call(e,t)?e[t].push(r):e[t]=[r]},Ia),is=Ai(ii);function as(e){return _f(e)?An(e):ui(e)}function os(e){return _f(e)?An(e,!0):li(e)}var fs=oa(function(e,t,r){gi(e,t,r)}),ss=oa(function(e,t,r,n){gi(e,t,r,n)}),cs=Ra(function(e,t){var r={};if(null==e)return r;var n=!1;t=Qt(t,function(t){return t=Xi(t,e),n||(n=t.length>1),t}),ia(e,ka(e),r),n&&(r=In(r,h|d|p,Da));for(var i=t.length;i--;)$i(r,t[i]);return r});var us=Ra(function(e,t){return null==e?{}:function(e,t){return mi(e,t,function(t,r){return ts(e,r)})}(e,t)});function ls(e,t){if(null==e)return{};var r=Qt(ka(e),function(e){return[e]});return t=Ia(t),mi(e,r,function(e,r){return t(e,r[0])})}var hs=Aa(as),ds=Aa(os);function ps(e){return null==e?[]:vr(e,as(e))}var bs=ua(function(e,t,r){return t=t.toLowerCase(),e+(r?gs(t):t)});function gs(e){return As(Gf(e).toLowerCase())}function vs(e){return(e=Gf(e))&&e.replace(Ye,xr).replace(mt,"")}var ys=ua(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),ms=ua(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),_s=ca("toLowerCase");var xs=ua(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var ws=ua(function(e,t,r){return e+(r?" ":"")+As(t)});var Es=ua(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),As=ca("toUpperCase");function Ss(e,t,r){return e=Gf(e),(t=r?a:t)===a?function(e){return Et.test(e)}(e)?function(e){return e.match(xt)||[]}(e):function(e){return e.match(Pe)||[]}(e):e.match(t)||[]}var Cs=Ai(function(e,t){try{return Vt(e,a,t)}catch(e){return Af(e)?e:new Je(e)}}),Ts=Ra(function(e,t){return Xt(t,function(t){t=co(t),Mn(e,t,rf(e[t],e))}),e});function Ds(e){return function(){return e}}var Fs=da(),Rs=da(!0);function Bs(e){return e}function ks(e){return ci("function"==typeof e?e:In(e,h))}var Ms=Ai(function(e,t){return function(r){return ii(r,e,t)}}),Os=Ai(function(e,t){return function(r){return ii(e,r,t)}});function Ls(e,t,r){var n=as(t),i=Kn(t,n);null!=r||Df(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Kn(t,as(t)));var a=!(Df(r)&&"chain"in r&&!r.chain),o=Sf(e);return Xt(i,function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__);return(r.__actions__=na(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,er([this.value()],arguments))})}),e}function Is(){}var Us=va(Qt),js=va(Yt),$s=va(nr);function Ps(e){return Za(e)?lr(co(e)):function(e){return function(t){return Hn(t,e)}}(e)}var zs=ma(),Ns=ma(!0);function qs(){return[]}function Ws(){return!1}var Vs=ga(function(e,t){return e+t},0),Gs=wa("ceil"),Xs=ga(function(e,t){return e/t},1),Zs=wa("floor");var Ys,Ks=ga(function(e,t){return e*t},1),Hs=wa("round"),Js=ga(function(e,t){return e-t},0);return pn.after=function(e,t){if("function"!=typeof t)throw new it(s);return e=Nf(e),function(){if(--e<1)return t.apply(this,arguments)}},pn.ary=ef,pn.assign=Xf,pn.assignIn=Zf,pn.assignInWith=Yf,pn.assignWith=Kf,pn.at=Hf,pn.before=tf,pn.bind=rf,pn.bindAll=Ts,pn.bindKey=nf,pn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return yf(e)?e:[e]},pn.chain=$o,pn.chunk=function(e,t,r){t=(r?Xa(e,t,r):t===a)?1:Vr(Nf(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,f=0,s=n(jr(i/t));o<i;)s[f++]=Bi(e,o,o+=t);return s},pn.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},pn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return er(yf(r)?na(r):[r],Vn(t,1))},pn.cond=function(e){var t=null==e?0:e.length,r=Ia();return e=t?Qt(e,function(e){if("function"!=typeof e[1])throw new it(s);return[r(e[0]),e[1]]}):[],Ai(function(r){for(var n=-1;++n<t;){var i=e[n];if(Vt(i[0],this,r))return Vt(i[1],this,r)}})},pn.conforms=function(e){return function(e){var t=as(e);return function(r){return Un(r,e,t)}}(In(e,h))},pn.constant=Ds,pn.countBy=No,pn.create=function(e,t){var r=bn(e);return null==t?r:kn(r,t)},pn.curry=function e(t,r,n){var i=Sa(t,_,a,a,a,a,a,r=n?a:r);return i.placeholder=e.placeholder,i},pn.curryRight=function e(t,r,n){var i=Sa(t,x,a,a,a,a,a,r=n?a:r);return i.placeholder=e.placeholder,i},pn.debounce=af,pn.defaults=Jf,pn.defaultsDeep=Qf,pn.defer=of,pn.delay=ff,pn.difference=ho,pn.differenceBy=po,pn.differenceWith=bo,pn.drop=function(e,t,r){var n=null==e?0:e.length;return n?Bi(e,(t=r||t===a?1:Nf(t))<0?0:t,n):[]},pn.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Bi(e,0,(t=n-(t=r||t===a?1:Nf(t)))<0?0:t):[]},pn.dropRightWhile=function(e,t){return e&&e.length?zi(e,Ia(t,3),!0,!0):[]},pn.dropWhile=function(e,t){return e&&e.length?zi(e,Ia(t,3),!0):[]},pn.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Xa(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=Nf(r))<0&&(r=-r>i?0:i+r),(n=n===a||n>i?i:Nf(n))<0&&(n+=i),n=r>n?0:qf(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},pn.filter=function(e,t){return(yf(e)?Kt:Wn)(e,Ia(t,3))},pn.flatMap=function(e,t){return Vn(Ko(e,t),1)},pn.flatMapDeep=function(e,t){return Vn(Ko(e,t),M)},pn.flatMapDepth=function(e,t,r){return r=r===a?1:Nf(r),Vn(Ko(e,t),r)},pn.flatten=yo,pn.flattenDeep=function(e){return null!=e&&e.length?Vn(e,M):[]},pn.flattenDepth=function(e,t){return null!=e&&e.length?Vn(e,t=t===a?1:Nf(t)):[]},pn.flip=function(e){return Sa(e,C)},pn.flow=Fs,pn.flowRight=Rs,pn.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},pn.functions=function(e){return null==e?[]:Kn(e,as(e))},pn.functionsIn=function(e){return null==e?[]:Kn(e,os(e))},pn.groupBy=Xo,pn.initial=function(e){return null!=e&&e.length?Bi(e,0,-1):[]},pn.intersection=_o,pn.intersectionBy=xo,pn.intersectionWith=wo,pn.invert=rs,pn.invertBy=ns,pn.invokeMap=Zo,pn.iteratee=ks,pn.keyBy=Yo,pn.keys=as,pn.keysIn=os,pn.map=Ko,pn.mapKeys=function(e,t){var r={};return t=Ia(t,3),Zn(e,function(e,n,i){Mn(r,t(e,n,i),e)}),r},pn.mapValues=function(e,t){var r={};return t=Ia(t,3),Zn(e,function(e,n,i){Mn(r,n,t(e,n,i))}),r},pn.matches=function(e){return pi(In(e,h))},pn.matchesProperty=function(e,t){return bi(e,In(t,h))},pn.memoize=sf,pn.merge=fs,pn.mergeWith=ss,pn.method=Ms,pn.methodOf=Os,pn.mixin=Ls,pn.negate=cf,pn.nthArg=function(e){return e=Nf(e),Ai(function(t){return vi(t,e)})},pn.omit=cs,pn.omitBy=function(e,t){return ls(e,cf(Ia(t)))},pn.once=function(e){return tf(2,e)},pn.orderBy=function(e,t,r,n){return null==e?[]:(yf(t)||(t=null==t?[]:[t]),yf(r=n?a:r)||(r=null==r?[]:[r]),yi(e,t,r))},pn.over=Us,pn.overArgs=uf,pn.overEvery=js,pn.overSome=$s,pn.partial=lf,pn.partialRight=hf,pn.partition=Ho,pn.pick=us,pn.pickBy=ls,pn.property=Ps,pn.propertyOf=function(e){return function(t){return null==e?a:Hn(e,t)}},pn.pull=Ao,pn.pullAll=So,pn.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?_i(e,t,Ia(r,2)):e},pn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?_i(e,t,a,r):e},pn.pullAt=Co,pn.range=zs,pn.rangeRight=Ns,pn.rearg=df,pn.reject=function(e,t){return(yf(e)?Kt:Wn)(e,cf(Ia(t,3)))},pn.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=Ia(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return xi(e,i),r},pn.rest=function(e,t){if("function"!=typeof e)throw new it(s);return Ai(e,t=t===a?t:Nf(t))},pn.reverse=To,pn.sampleSize=function(e,t,r){return t=(r?Xa(e,t,r):t===a)?1:Nf(t),(yf(e)?Cn:Ci)(e,t)},pn.set=function(e,t,r){return null==e?e:Ti(e,t,r)},pn.setWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:Ti(e,t,r,n)},pn.shuffle=function(e){return(yf(e)?Tn:Ri)(e)},pn.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&Xa(e,t,r)?(t=0,r=n):(t=null==t?0:Nf(t),r=r===a?n:Nf(r)),Bi(e,t,r)):[]},pn.sortBy=Jo,pn.sortedUniq=function(e){return e&&e.length?Li(e):[]},pn.sortedUniqBy=function(e,t){return e&&e.length?Li(e,Ia(t,2)):[]},pn.split=function(e,t,r){return r&&"number"!=typeof r&&Xa(e,t,r)&&(t=r=a),(r=r===a?U:r>>>0)?(e=Gf(e))&&("string"==typeof t||null!=t&&!Mf(t))&&!(t=Ui(t))&&Ar(e)?Yi(kr(e),0,r):e.split(t,r):[]},pn.spread=function(e,t){if("function"!=typeof e)throw new it(s);return t=null==t?0:Vr(Nf(t),0),Ai(function(r){var n=r[t],i=Yi(r,0,t);return n&&er(i,n),Vt(e,this,i)})},pn.tail=function(e){var t=null==e?0:e.length;return t?Bi(e,1,t):[]},pn.take=function(e,t,r){return e&&e.length?Bi(e,0,(t=r||t===a?1:Nf(t))<0?0:t):[]},pn.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Bi(e,(t=n-(t=r||t===a?1:Nf(t)))<0?0:t,n):[]},pn.takeRightWhile=function(e,t){return e&&e.length?zi(e,Ia(t,3),!1,!0):[]},pn.takeWhile=function(e,t){return e&&e.length?zi(e,Ia(t,3)):[]},pn.tap=function(e,t){return t(e),e},pn.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new it(s);return Df(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),af(e,t,{leading:n,maxWait:t,trailing:i})},pn.thru=Po,pn.toArray=Pf,pn.toPairs=hs,pn.toPairsIn=ds,pn.toPath=function(e){return yf(e)?Qt(e,co):If(e)?[e]:na(so(Gf(e)))},pn.toPlainObject=Vf,pn.transform=function(e,t,r){var n=yf(e),i=n||wf(e)||Uf(e);if(t=Ia(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:Df(e)&&Sf(a)?bn(Bt(e)):{}}return(i?Xt:Zn)(e,function(e,n,i){return t(r,e,n,i)}),r},pn.unary=function(e){return ef(e,1)},pn.union=Do,pn.unionBy=Fo,pn.unionWith=Ro,pn.uniq=function(e){return e&&e.length?ji(e):[]},pn.uniqBy=function(e,t){return e&&e.length?ji(e,Ia(t,2)):[]},pn.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?ji(e,a,t):[]},pn.unset=function(e,t){return null==e||$i(e,t)},pn.unzip=Bo,pn.unzipWith=ko,pn.update=function(e,t,r){return null==e?e:Pi(e,t,Gi(r))},pn.updateWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:Pi(e,t,Gi(r),n)},pn.values=ps,pn.valuesIn=function(e){return null==e?[]:vr(e,os(e))},pn.without=Mo,pn.words=Ss,pn.wrap=function(e,t){return lf(Gi(t),e)},pn.xor=Oo,pn.xorBy=Lo,pn.xorWith=Io,pn.zip=Uo,pn.zipObject=function(e,t){return Wi(e||[],t||[],Fn)},pn.zipObjectDeep=function(e,t){return Wi(e||[],t||[],Ti)},pn.zipWith=jo,pn.entries=hs,pn.entriesIn=ds,pn.extend=Zf,pn.extendWith=Yf,Ls(pn,pn),pn.add=Vs,pn.attempt=Cs,pn.camelCase=bs,pn.capitalize=gs,pn.ceil=Gs,pn.clamp=function(e,t,r){return r===a&&(r=t,t=a),r!==a&&(r=(r=Wf(r))==r?r:0),t!==a&&(t=(t=Wf(t))==t?t:0),Ln(Wf(e),t,r)},pn.clone=function(e){return In(e,p)},pn.cloneDeep=function(e){return In(e,h|p)},pn.cloneDeepWith=function(e,t){return In(e,h|p,t="function"==typeof t?t:a)},pn.cloneWith=function(e,t){return In(e,p,t="function"==typeof t?t:a)},pn.conformsTo=function(e,t){return null==t||Un(e,t,as(t))},pn.deburr=vs,pn.defaultTo=function(e,t){return null==e||e!=e?t:e},pn.divide=Xs,pn.endsWith=function(e,t,r){e=Gf(e),t=Ui(t);var n=e.length,i=r=r===a?n:Ln(Nf(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},pn.eq=pf,pn.escape=function(e){return(e=Gf(e))&&Se.test(e)?e.replace(Ee,wr):e},pn.escapeRegExp=function(e){return(e=Gf(e))&&Me.test(e)?e.replace(ke,"\\$&"):e},pn.every=function(e,t,r){var n=yf(e)?Yt:Nn;return r&&Xa(e,t,r)&&(t=a),n(e,Ia(t,3))},pn.find=qo,pn.findIndex=go,pn.findKey=function(e,t){return ar(e,Ia(t,3),Zn)},pn.findLast=Wo,pn.findLastIndex=vo,pn.findLastKey=function(e,t){return ar(e,Ia(t,3),Yn)},pn.floor=Zs,pn.forEach=Vo,pn.forEachRight=Go,pn.forIn=function(e,t){return null==e?e:Gn(e,Ia(t,3),os)},pn.forInRight=function(e,t){return null==e?e:Xn(e,Ia(t,3),os)},pn.forOwn=function(e,t){return e&&Zn(e,Ia(t,3))},pn.forOwnRight=function(e,t){return e&&Yn(e,Ia(t,3))},pn.get=es,pn.gt=bf,pn.gte=gf,pn.has=function(e,t){return null!=e&&qa(e,t,ti)},pn.hasIn=ts,pn.head=mo,pn.identity=Bs,pn.includes=function(e,t,r,n){e=_f(e)?e:ps(e),r=r&&!n?Nf(r):0;var i=e.length;return r<0&&(r=Vr(i+r,0)),Lf(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&fr(e,t,r)>-1},pn.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Nf(r);return i<0&&(i=Vr(n+i,0)),fr(e,t,i)},pn.inRange=function(e,t,r){return t=zf(t),r===a?(r=t,t=0):r=zf(r),function(e,t,r){return e>=Gr(t,r)&&e<Vr(t,r)}(e=Wf(e),t,r)},pn.invoke=is,pn.isArguments=vf,pn.isArray=yf,pn.isArrayBuffer=mf,pn.isArrayLike=_f,pn.isArrayLikeObject=xf,pn.isBoolean=function(e){return!0===e||!1===e||Ff(e)&&Qn(e)==W},pn.isBuffer=wf,pn.isDate=Ef,pn.isElement=function(e){return Ff(e)&&1===e.nodeType&&!kf(e)},pn.isEmpty=function(e){if(null==e)return!0;if(_f(e)&&(yf(e)||"string"==typeof e||"function"==typeof e.splice||wf(e)||Uf(e)||vf(e)))return!e.length;var t=Na(e);if(t==K||t==re)return!e.size;if(Ha(e))return!ui(e).length;for(var r in e)if(ut.call(e,r))return!1;return!0},pn.isEqual=function(e,t){return oi(e,t)},pn.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:a)?r(e,t):a;return n===a?oi(e,t,a,r):!!n},pn.isError=Af,pn.isFinite=function(e){return"number"==typeof e&&Nr(e)},pn.isFunction=Sf,pn.isInteger=Cf,pn.isLength=Tf,pn.isMap=Rf,pn.isMatch=function(e,t){return e===t||fi(e,t,ja(t))},pn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:a,fi(e,t,ja(t),r)},pn.isNaN=function(e){return Bf(e)&&e!=+e},pn.isNative=function(e){if(Ka(e))throw new Je(f);return si(e)},pn.isNil=function(e){return null==e},pn.isNull=function(e){return null===e},pn.isNumber=Bf,pn.isObject=Df,pn.isObjectLike=Ff,pn.isPlainObject=kf,pn.isRegExp=Mf,pn.isSafeInteger=function(e){return Cf(e)&&e>=-O&&e<=O},pn.isSet=Of,pn.isString=Lf,pn.isSymbol=If,pn.isTypedArray=Uf,pn.isUndefined=function(e){return e===a},pn.isWeakMap=function(e){return Ff(e)&&Na(e)==oe},pn.isWeakSet=function(e){return Ff(e)&&Qn(e)==fe},pn.join=function(e,t){return null==e?"":qr.call(e,t)},pn.kebabCase=ys,pn.last=Eo,pn.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==a&&(i=(i=Nf(r))<0?Vr(n+i,0):Gr(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):or(e,cr,i,!0)},pn.lowerCase=ms,pn.lowerFirst=_s,pn.lt=jf,pn.lte=$f,pn.max=function(e){return e&&e.length?qn(e,Bs,ei):a},pn.maxBy=function(e,t){return e&&e.length?qn(e,Ia(t,2),ei):a},pn.mean=function(e){return ur(e,Bs)},pn.meanBy=function(e,t){return ur(e,Ia(t,2))},pn.min=function(e){return e&&e.length?qn(e,Bs,hi):a},pn.minBy=function(e,t){return e&&e.length?qn(e,Ia(t,2),hi):a},pn.stubArray=qs,pn.stubFalse=Ws,pn.stubObject=function(){return{}},pn.stubString=function(){return""},pn.stubTrue=function(){return!0},pn.multiply=Ks,pn.nth=function(e,t){return e&&e.length?vi(e,Nf(t)):a},pn.noConflict=function(){return Mt._===this&&(Mt._=bt),this},pn.noop=Is,pn.now=Qo,pn.pad=function(e,t,r){e=Gf(e);var n=(t=Nf(t))?Br(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return ya($r(i),r)+e+ya(jr(i),r)},pn.padEnd=function(e,t,r){e=Gf(e);var n=(t=Nf(t))?Br(e):0;return t&&n<t?e+ya(t-n,r):e},pn.padStart=function(e,t,r){e=Gf(e);var n=(t=Nf(t))?Br(e):0;return t&&n<t?ya(t-n,r)+e:e},pn.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Zr(Gf(e).replace(Le,""),t||0)},pn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Xa(e,t,r)&&(t=r=a),r===a&&("boolean"==typeof t?(r=t,t=a):"boolean"==typeof e&&(r=e,e=a)),e===a&&t===a?(e=0,t=1):(e=zf(e),t===a?(t=e,e=0):t=zf(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=Yr();return Gr(e+i*(t-e+Ft("1e-"+((i+"").length-1))),t)}return wi(e,t)},pn.reduce=function(e,t,r){var n=yf(e)?tr:dr,i=arguments.length<3;return n(e,Ia(t,4),r,i,Pn)},pn.reduceRight=function(e,t,r){var n=yf(e)?rr:dr,i=arguments.length<3;return n(e,Ia(t,4),r,i,zn)},pn.repeat=function(e,t,r){return t=(r?Xa(e,t,r):t===a)?1:Nf(t),Ei(Gf(e),t)},pn.replace=function(){var e=arguments,t=Gf(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pn.result=function(e,t,r){var n=-1,i=(t=Xi(t,e)).length;for(i||(i=1,e=a);++n<i;){var o=null==e?a:e[co(t[n])];o===a&&(n=i,o=r),e=Sf(o)?o.call(e):o}return e},pn.round=Hs,pn.runInContext=e,pn.sample=function(e){return(yf(e)?Sn:Si)(e)},pn.size=function(e){if(null==e)return 0;if(_f(e))return Lf(e)?Br(e):e.length;var t=Na(e);return t==K||t==re?e.size:ui(e).length},pn.snakeCase=xs,pn.some=function(e,t,r){var n=yf(e)?nr:ki;return r&&Xa(e,t,r)&&(t=a),n(e,Ia(t,3))},pn.sortedIndex=function(e,t){return Mi(e,t)},pn.sortedIndexBy=function(e,t,r){return Oi(e,t,Ia(r,2))},pn.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Mi(e,t);if(n<r&&pf(e[n],t))return n}return-1},pn.sortedLastIndex=function(e,t){return Mi(e,t,!0)},pn.sortedLastIndexBy=function(e,t,r){return Oi(e,t,Ia(r,2),!0)},pn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=Mi(e,t,!0)-1;if(pf(e[r],t))return r}return-1},pn.startCase=ws,pn.startsWith=function(e,t,r){return e=Gf(e),r=null==r?0:Ln(Nf(r),0,e.length),t=Ui(t),e.slice(r,r+t.length)==t},pn.subtract=Js,pn.sum=function(e){return e&&e.length?pr(e,Bs):0},pn.sumBy=function(e,t){return e&&e.length?pr(e,Ia(t,2)):0},pn.template=function(e,t,r){var n=pn.templateSettings;r&&Xa(e,t,r)&&(t=a),e=Gf(e),t=Yf({},t,n,Ca);var i,o,f=Yf({},t.imports,n.imports,Ca),s=as(f),c=vr(f,s),u=0,l=t.interpolate||Ke,h="__p += '",d=rt((t.escape||Ke).source+"|"+l.source+"|"+(l===De?Ne:Ke).source+"|"+(t.evaluate||Ke).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++St+"]")+"\n";e.replace(d,function(t,r,n,a,f,s){return n||(n=a),h+=e.slice(u,s).replace(He,Er),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=s+t.length,t}),h+="';\n";var b=t.variable;b||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(me,""):h).replace(_e,"$1").replace(xe,"$1;"),h="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Cs(function(){return Qe(s,p+"return "+h).apply(a,c)});if(g.source=h,Af(g))throw g;return g},pn.times=function(e,t){if((e=Nf(e))<1||e>O)return[];var r=U,n=Gr(e,U);t=Ia(t),e-=U;for(var i=br(n,t);++r<e;)t(r);return i},pn.toFinite=zf,pn.toInteger=Nf,pn.toLength=qf,pn.toLower=function(e){return Gf(e).toLowerCase()},pn.toNumber=Wf,pn.toSafeInteger=function(e){return e?Ln(Nf(e),-O,O):0===e?e:0},pn.toString=Gf,pn.toUpper=function(e){return Gf(e).toUpperCase()},pn.trim=function(e,t,r){if((e=Gf(e))&&(r||t===a))return e.replace(Oe,"");if(!e||!(t=Ui(t)))return e;var n=kr(e),i=kr(t);return Yi(n,mr(n,i),_r(n,i)+1).join("")},pn.trimEnd=function(e,t,r){if((e=Gf(e))&&(r||t===a))return e.replace(Ie,"");if(!e||!(t=Ui(t)))return e;var n=kr(e);return Yi(n,0,_r(n,kr(t))+1).join("")},pn.trimStart=function(e,t,r){if((e=Gf(e))&&(r||t===a))return e.replace(Le,"");if(!e||!(t=Ui(t)))return e;var n=kr(e);return Yi(n,mr(n,kr(t))).join("")},pn.truncate=function(e,t){var r=T,n=D;if(Df(t)){var i="separator"in t?t.separator:i;r="length"in t?Nf(t.length):r,n="omission"in t?Ui(t.omission):n}var o=(e=Gf(e)).length;if(Ar(e)){var f=kr(e);o=f.length}if(r>=o)return e;var s=r-Br(n);if(s<1)return n;var c=f?Yi(f,0,s).join(""):e.slice(0,s);if(i===a)return c+n;if(f&&(s+=c.length-s),Mf(i)){if(e.slice(s).search(i)){var u,l=c;for(i.global||(i=rt(i.source,Gf(qe.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var h=u.index;c=c.slice(0,h===a?s:h)}}else if(e.indexOf(Ui(i),s)!=s){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+n},pn.unescape=function(e){return(e=Gf(e))&&Ae.test(e)?e.replace(we,Mr):e},pn.uniqueId=function(e){var t=++lt;return Gf(e)+t},pn.upperCase=Es,pn.upperFirst=As,pn.each=Vo,pn.eachRight=Go,pn.first=mo,Ls(pn,(Ys={},Zn(pn,function(e,t){ut.call(pn.prototype,t)||(Ys[t]=e)}),Ys),{chain:!1}),pn.VERSION="4.17.5",Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){pn[e].placeholder=pn}),Xt(["drop","take"],function(e,t){yn.prototype[e]=function(r){r=r===a?1:Vr(Nf(r),0);var n=this.__filtered__&&!t?new yn(this):this.clone();return n.__filtered__?n.__takeCount__=Gr(r,n.__takeCount__):n.__views__.push({size:Gr(r,U),type:e+(n.__dir__<0?"Right":"")}),n},yn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Xt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==B||3==r;yn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ia(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Xt(["head","last"],function(e,t){var r="take"+(t?"Right":"");yn.prototype[e]=function(){return this[r](1).value()[0]}}),Xt(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");yn.prototype[e]=function(){return this.__filtered__?new yn(this):this[r](1)}}),yn.prototype.compact=function(){return this.filter(Bs)},yn.prototype.find=function(e){return this.filter(e).head()},yn.prototype.findLast=function(e){return this.reverse().find(e)},yn.prototype.invokeMap=Ai(function(e,t){return"function"==typeof e?new yn(this):this.map(function(r){return ii(r,e,t)})}),yn.prototype.reject=function(e){return this.filter(cf(Ia(e)))},yn.prototype.slice=function(e,t){e=Nf(e);var r=this;return r.__filtered__&&(e>0||t<0)?new yn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==a&&(r=(t=Nf(t))<0?r.dropRight(-t):r.take(t-e)),r)},yn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yn.prototype.toArray=function(){return this.take(U)},Zn(yn.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=pn[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);i&&(pn.prototype[t]=function(){var t=this.__wrapped__,f=n?[1]:arguments,s=t instanceof yn,c=f[0],u=s||yf(t),l=function(e){var t=i.apply(pn,er([e],f));return n&&h?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(s=u=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,b=s&&!d;if(!o&&u){t=b?t:new yn(this);var g=e.apply(t,f);return g.__actions__.push({func:Po,args:[l],thisArg:a}),new vn(g,h)}return p&&b?e.apply(this,f):(g=this.thru(l),p?n?g.value()[0]:g.value():g)})}),Xt(["pop","push","shift","sort","splice","unshift"],function(e){var t=at[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);pn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(yf(i)?i:[],e)}return this[r](function(r){return t.apply(yf(r)?r:[],e)})}}),Zn(yn.prototype,function(e,t){var r=pn[t];if(r){var n=r.name+"";(an[n]||(an[n]=[])).push({name:t,func:r})}}),an[pa(a,y).name]=[{name:"wrapper",func:a}],yn.prototype.clone=function(){var e=new yn(this.__wrapped__);return e.__actions__=na(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=na(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=na(this.__views__),e},yn.prototype.reverse=function(){if(this.__filtered__){var e=new yn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=yf(e),n=t<0,i=r?e.length:0,a=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Gr(t,e+o);break;case"takeRight":e=Vr(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,f=a.end,s=f-o,c=n?f:o-1,u=this.__iteratees__,l=u.length,h=0,d=Gr(s,this.__takeCount__);if(!r||!n&&i==s&&d==s)return Ni(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var b=-1,g=e[c+=t];++b<l;){var v=u[b],y=v.iteratee,m=v.type,_=y(g);if(m==k)g=_;else if(!_){if(m==B)continue e;break e}}p[h++]=g}return p},pn.prototype.at=zo,pn.prototype.chain=function(){return $o(this)},pn.prototype.commit=function(){return new vn(this.value(),this.__chain__)},pn.prototype.next=function(){this.__values__===a&&(this.__values__=Pf(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},pn.prototype.plant=function(e){for(var t,r=this;r instanceof gn;){var n=lo(r);n.__index__=0,n.__values__=a,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},pn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yn){var t=e;return this.__actions__.length&&(t=new yn(this)),(t=t.reverse()).__actions__.push({func:Po,args:[To],thisArg:a}),new vn(t,this.__chain__)}return this.thru(To)},pn.prototype.toJSON=pn.prototype.valueOf=pn.prototype.value=function(){return Ni(this.__wrapped__,this.__actions__)},pn.prototype.first=pn.prototype.head,jt&&(pn.prototype[jt]=function(){return this}),pn}();Mt._=Or,(i=function(){return Or}.call(t,r,t,n))===a||(n.exports=i)}).call(this)}).call(t,r(12),r(47)(e))},function(e,t,r){"use strict";var n=r(0);const i=c("max");t.b=i;const a=c("min");t.c=a;const o=c("avg");t.a=o;const f=c("sum");t.e=f;const s=c("mode");function c(e){return class extends n.a{constructor(e){super({property:e})}get name(){return this.property.name}get numCategories(){return this.property.numCategories}_compile(e){super._compile(e),this.type=this.property.type}_applyToShaderSource(t,r){return{preface:"",inline:`p${r(`_cdb_agg_${e}_${this.property.name}`)}`}}_postShaderCompile(){}_getMinimumNeededSchema(){return{columns:[`_cdb_agg_${e}_${this.property.name}`]}}}}t.d=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.union=function(e,t){const r=e.columns.concat(t.columns);return{columns:r.filter((e,t)=>r.indexOf(e)==t)}},t.equals=function(e,t){if(!e||!t)return!1;return e.columns.length==t.columns.length&&e.columns.every((e,r)=>e===t.columns[r])};t.IDENTITY={columns:[]}},function(e,t,r){"use strict";var n=r(48),i=r(5),a=r(18),o=r(19);const f="https://{user}.carto.com";t.a=class{constructor(){this._client=new n.a(this)}initialize(e,t){e=e||Object(a.b)(),t=t||Object(o.b)(),Object(a.a)(e),Object(o.a)(t),this._apiKey=e.apiKey,this._username=e.username,this._serverURL=this._generateURL(e,t)}bindLayer(...e){this._client._bindLayer(...e)}requestData(e,t,r){return this._client._getData(e,t,r)}free(){this._client.free()}_generateURL(e,t){let r=t&&t.serverURL||f;return r=r.replace(/{user}/,e.username),this._validateServerURL(r),r}_validateServerURL(e){if(!e.match(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/))throw new i.a("source","nonValidServerURL")}}},function(e,t,r){"use strict";var n=r(0);t.a=class extends n.a{constructor(e){if(!Number.isFinite(e))throw new Error("Animate only supports number literals");super({}),this.aTime=Date.now(),this.bTime=this.aTime+Number(e)}_compile(){this.type="float"}_applyToShaderSource(e){return this._uniformID=e(),{preface:`uniform float anim${this._uniformID};\n`,inline:`anim${this._uniformID}`}}_postShaderCompile(e,t){this._uniformLocation=t.getUniformLocation(e,`anim${this._uniformID}`)}_preDraw(e,t){const r=Date.now();this.mix=(r-this.aTime)/(this.bTime-this.aTime),this.mix>1?t.uniform1f(this._uniformLocation,1):t.uniform1f(this._uniformLocation,this.mix)}isAnimated(){return!this.mix||this.mix<=1}}},function(e,t,r){"use strict";var n=r(2),i=r(0);t.b=class extends(a(e=>e)){};function a(e,t){return class extends i.a{constructor(e){super({m:e=Object(n.b)(e)}),this.isInterpolator=!0}_compile(r){if(super._compile(r),"float"!=this.m.type)throw new Error(`Blending cannot be performed by '${this.m.type}'`);this.type="float",this._setGenericGLSL(t=>e(t.m),t)}}}t.a=class extends(a(e=>`cubicEaseInOut(${e})`,"\n    #ifndef CUBIC\n    #define CUBIC\n    float cubicEaseInOut(float p){\n        if (p < 0.5) {\n            return 4. * p * p * p;\n        }else {\n            float f = ((2. * p) - 2.);\n            return 0.5 * f * f * f + 1.;\n        }\n    }\n    #endif\n")){}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.d(t,"b",function(){return s});var n=r(14),i=r(8),a=r(54),o=(r.n(a),r(55)),f=r(1);r.d(t,"a",function(){return o.a}),r.d(t,"c",function(){return i});function s(e){if(e){if(this.gl=e.getContext("webgl"),!this.gl)throw new Error("WebGL 1 is unsupported");this._initGL(this.gl)}this._center={x:0,y:0},this._zoom=1,console.log("R",this),this.dataframes=[],this.computePool=[]}function c(e,t){const r=t[0]-e[0];return u([-(t[1]-e[1]),r])}function u(e){const t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}s.prototype._initGL=function(e){if(this.gl=e,!e.getExtension("OES_texture_float"))throw new Error("WebGL extension OES_texture_float is unsupported");const t=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<1024)throw new Error(`WebGL parameter 'gl.MAX_RENDERBUFFER_SIZE' is below the requirement: ${t} < 1024`);this._initShaders(),this.auxFB=e.createFramebuffer(),this.bigTriangleVBO=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.bigTriangleVBO);e.bufferData(e.ARRAY_BUFFER,new Float32Array([10,-10,0,10,-10,-10]),e.STATIC_DRAW),this.zeroTex=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.zeroTex),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)},s.prototype.getCenter=function(){return{x:this._center.x,y:this._center.y}},s.prototype.setCenter=function(e,t){this._center.x=e,this._center.y=t,this._RAF()},s.prototype.getBounds=function(){const e=this.getCenter(),t=this.getZoom()*this.getAspect(),r=this.getZoom();return[e.x-t,e.y-r,e.x+t,e.y+r]},s.prototype.getZoom=function(){return this._zoom},s.prototype.setZoom=function(e){this._zoom=e,this._RAF()},s.prototype.removeDataframe=function(e){this.dataframes=this.dataframes.filter(t=>t!==e)},s.prototype.createStyleTileTexture=function(e){const t=this.gl,r=Math.ceil(e/1024),n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1024,r,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),n},s.prototype.addDataframe=function(e){const t=this.gl;this.dataframes.push(e),e.propertyTex=[];const r=function(e,t){if("point"==e)return{geometry:t,breakpointList:[]};if("polygon"==e){let e=[],r=[];return t.map(t=>{t.map(t=>{a(t.flat,t.holes).map(r=>{e.push(t.flat[2*r]),e.push(t.flat[2*r+1])})}),r.push(e.length)}),{geometry:new Float32Array(e),breakpointList:r}}if("line"==e){let e=[],r=[],n=[];return t.map(t=>{t.map(t=>{for(let f=0;f<t.length-2;f+=2){const s=[t[f+0],t[f+1]],l=[t[f+2],t[f+3]];if(f>0)var n=[t[f+-2],t[f+-1]],i=c(s,n);if(f<t.length-4)var a=[t[f+4],t[f+5]],o=c(a,l);let h=c(l,s),d=h,p=h;n&&(d=u([.5*h[0]+.5*i[0],.5*h[1]+.5*i[1]])),a&&(p=u([.5*h[0]+.5*o[0],.5*h[1]+.5*o[1]])),r.push(-d[0],-d[1]),r.push(d[0],d[1]),r.push(-p[0],-p[1]),r.push(d[0],d[1]),r.push(p[0],p[1]),r.push(-p[0],-p[1]),h=[0,0],e.push(s[0]-.01*h[0]),e.push(s[1]-.01*h[1]),e.push(s[0]+.01*h[0]),e.push(s[1]+.01*h[1]),e.push(l[0]-.01*h[0]),e.push(l[1]-.01*h[1]),e.push(s[0]+.01*h[0]),e.push(s[1]+.01*h[1]),e.push(l[0]+.01*h[0]),e.push(l[1]+.01*h[1]),e.push(l[0]-.01*h[0]),e.push(l[1]-.01*h[1])}}),n.push(e.length)}),{geometry:new Float32Array(e),breakpointList:n,normals:new Float32Array(r)}}throw new Error(`Unimplemented geometry type: '${e}'`)}(e.type,e.geom);var n=r.geometry;e.numVertex=n.length/2,e.breakpointList=r.breakpointList,e.numFeatures=e.breakpointList.length||e.numVertex;const i=Math.ceil(e.numFeatures/1024);for(var o in e.height=i,e.propertyID={},e.propertyCount=0,e.renderer=this,e.properties)if(e.properties.hasOwnProperty(o)&&e.properties[o].length>0){var f=e.propertyID[o];void 0===f&&(f=e.propertyCount,e.propertyCount++,e.propertyID[o]=f),e.propertyTex[f]=t.createTexture(),t.bindTexture(t.TEXTURE_2D,e.propertyTex[f]),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,1024,i,0,t.ALPHA,t.FLOAT,e.properties[o]),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)}e.setStyle=(t=>{e.style=t,this._RAF()}),e.style=null,e.vertexBuffer=t.createBuffer(),e.featureIDBuffer=t.createBuffer(),e.texColor=this.createStyleTileTexture(e.numFeatures),e.texWidth=this.createStyleTileTexture(e.numFeatures),e.texStrokeColor=this.createStyleTileTexture(e.numFeatures),e.texStrokeWidth=this.createStyleTileTexture(e.numFeatures);var s=new Float32Array(n.length);let l=0;for(var h=0;h<n.length;h+=2)(!e.breakpointList.length&&h>0||h==e.breakpointList[l])&&l++,s[h+0]=l%1024/1023,s[h+1]=i>1?Math.floor(l/1024)/(i-1):.5;return t.bindBuffer(t.ARRAY_BUFFER,e.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),r.normals&&(e.normalBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e.normalBuffer),t.bufferData(t.ARRAY_BUFFER,r.normals,t.STATIC_DRAW)),t.bindBuffer(t.ARRAY_BUFFER,e.featureIDBuffer),t.bufferData(t.ARRAY_BUFFER,s,t.STATIC_DRAW),this._RAF(),e},s.prototype._RAF=function(){},s.prototype.getAspect=function(){return this.gl?this.gl.canvas.clientWidth/this.gl.canvas.clientHeight:1};s.prototype.getStyledTiles=function(){return this.dataframes.filter(e=>e.style&&e.visible)},s.prototype._computeDrawMetadata=function(){const e=this.gl.canvas.clientWidth/this.gl.canvas.clientHeight,t=this.getStyledTiles();let r={freeTexUnit:4,zoom:1/this._zoom,columns:[]},n=t.map(e=>{const t=e.style.getColor()._getDrawMetadataRequirements();return[e.style.getWidth()._getDrawMetadataRequirements(),t,e.style.getStrokeColor()._getDrawMetadataRequirements(),e.style.getStrokeWidth()._getDrawMetadataRequirements()].reduce(i.union,i.IDENTITY)}).reduce(i.union,i.IDENTITY).columns;n.map(e=>{r.columns.push({name:e,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,avg:void 0,count:0,sum:0,histogramBuckets:1e3,histogram:Array.from({length:1e3},()=>0),accumHistogram:Array.from({length:1e3},()=>0)})});const a=1/this._zoom;return t.map(t=>{n.map(n=>{const i=t.properties[n];let o=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,s=0,c=0;t.vertexScale=[a/e*t.scale,a*t.scale],t.vertexOffset=[a/e*(this._center.x-t.center.x),a*(this._center.y-t.center.y)];const u=(-1+t.vertexOffset[0])/t.vertexScale[0],l=(1+t.vertexOffset[0])/t.vertexScale[0],h=(-1+t.vertexOffset[1])/t.vertexScale[1],d=(1+t.vertexOffset[1])/t.vertexScale[1];for(let e=0;e<t.numFeatures;e++){const r=t.geom[2*e+0],n=t.geom[2*e+1];if(r>u&&r<l&&n>h&&n<d){const t=i[e];if(!Number.isFinite(t))continue;s+=t,o=Math.min(o,t),f=Math.max(f,t),c++}}const p=r.columns.find(e=>e.name==n);p.min=Math.min(o,p.min),p.max=Math.max(f,p.max),p.count+=c,p.sum+=s})}),n.map(e=>{const t=r.columns.find(t=>t.name==e);t.avg=t.sum/t.count}),t.map(t=>{n.map(n=>{const i=t.properties[n],o=r.columns.find(e=>e.name==n);t.vertexScale=[a/e*t.scale,a*t.scale],t.vertexOffset=[a/e*(this._center.x-t.center.x),a*(this._center.y-t.center.y)];const f=(-1+t.vertexOffset[0])/t.vertexScale[0],s=(1+t.vertexOffset[0])/t.vertexScale[0],c=(-1+t.vertexOffset[1])/t.vertexScale[1],u=(1+t.vertexOffset[1])/t.vertexScale[1],l=o.min,h=o.max-l;for(let e=0;e<t.numFeatures;e++){const r=t.geom[2*e+0],n=t.geom[2*e+1];if(r>f&&r<s&&n>c&&n<u){const t=i[e];if(!Number.isFinite(t))continue;o.histogram[Math.ceil(999*(t-l)/h)]++}}})}),n.map(e=>{const t=r.columns.find(t=>t.name==e);for(let e=1;e<t.histogramBuckets;e++)t.accumHistogram[e]=t.accumHistogram[e-1]+t.histogram[e]}),r},s.prototype.refresh=function(e){const t=this.gl;if(this.lastFrame===e)return;var r=t.canvas.clientWidth,n=t.canvas.clientHeight;t.canvas.width==r&&t.canvas.height==n||(t.canvas.width=r,t.canvas.height=n);var i=t.canvas.clientWidth/t.canvas.clientHeight;t.enable(t.CULL_FACE),t.disable(t.BLEND),t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.depthMask(!1),t.bindFramebuffer(t.FRAMEBUFFER,this.auxFB);const a=this.getStyledTiles(),o=this._computeDrawMetadata(),s=(e,r,n,i,a)=>{t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.viewport(0,0,1024,e.height),t.clear(t.COLOR_BUFFER_BIT),t.useProgram(n.program);for(let e=0;e<16;e++)t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.zeroTex),t.uniform1i(n.textureLocations[e],0);o.freeTexUnit=4,i._preDraw(o,t),Object.keys(a).forEach((r,i)=>{t.activeTexture(t.TEXTURE0+i),t.bindTexture(t.TEXTURE_2D,e.propertyTex[e.propertyID[r]]),t.uniform1i(n.textureLocations[i],i)}),t.enableVertexAttribArray(n.vertexAttribute),t.bindBuffer(t.ARRAY_BUFFER,this.bigTriangleVBO),t.vertexAttribPointer(n.vertexAttribute,2,t.FLOAT,!1,0,0),t.drawArrays(t.TRIANGLES,0,3),t.disableVertexAttribArray(n.vertexAttribute)};a.map(e=>s(e,e.texColor,e.style.colorShader,e.style.getColor(),e.style.propertyColorTID)),a.map(e=>s(e,e.texWidth,e.style.widthShader,e.style.getWidth(),e.style.propertyWidthTID)),a.map(e=>s(e,e.texStrokeColor,e.style.strokeColorShader,e.style.getStrokeColor(),e.style.propertyStrokeColorTID)),a.map(e=>s(e,e.texStrokeWidth,e.style.strokeWidthShader,e.style.getStrokeWidth(),e.style.propertyStrokeWidthTID)),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.BLEND),t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight);const c=1/this._zoom;let u=null;a.length>0&&(u=a[0].style.getOrder());let l=null,h=null;u instanceof f.Asc?(l=Array.from({length:16},(e,t)=>2*(15-t)),h=Array.from({length:16},(e,t)=>0==t?1e3:2*(15-t+1))):u instanceof f.Desc?(l=Array.from({length:16},(e,t)=>2*t),h=Array.from({length:16},(e,t)=>15==t?1e3:2*(t+1))):(l=[0],h=[1e3]);const d=e=>a.forEach(r=>{let n=null;n="point"==r.type?this.finalRendererProgram:"line"==r.type?this.lineRendererProgram:this.triRendererProgram,t.useProgram(n.program),t.uniform1f(n.orderMinWidth,l[e]),t.uniform1f(n.orderMaxWidth,h[e]),t.uniform2f(n.vertexScaleUniformLocation,c/i*r.scale,c*r.scale),t.uniform2f(n.vertexOffsetUniformLocation,c/i*(this._center.x-r.center.x),c*(this._center.y-r.center.y)),r.vertexScale=[c/i*r.scale,c*r.scale],r.vertexOffset=[c/i*(this._center.x-r.center.x),c*(this._center.y-r.center.y)],t.enableVertexAttribArray(n.vertexPositionAttribute),t.bindBuffer(t.ARRAY_BUFFER,r.vertexBuffer),t.vertexAttribPointer(n.vertexPositionAttribute,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.featureIdAttr),t.bindBuffer(t.ARRAY_BUFFER,r.featureIDBuffer),t.vertexAttribPointer(n.featureIdAttr,2,t.FLOAT,!1,0,0),"line"==r.type&&(t.enableVertexAttribArray(n.normalAttr),t.bindBuffer(t.ARRAY_BUFFER,r.normalBuffer),t.vertexAttribPointer(n.normalAttr,2,t.FLOAT,!1,0,0)),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,r.texColor),t.uniform1i(n.colorTexture,0),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,r.texWidth),t.uniform1i(n.widthTexture,1),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,r.texStrokeColor),t.uniform1i(n.colorStrokeTexture,2),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,r.texStrokeWidth),t.uniform1i(n.strokeWidthTexture,3),t.drawArrays("point"==r.type?t.POINTS:t.TRIANGLES,0,r.numVertex),t.disableVertexAttribArray(n.vertexPositionAttribute),t.disableVertexAttribArray(n.featureIdAttr),"line"==r.type&&t.disableVertexAttribArray(n.normalAttr)});l.map((e,t)=>{d(t)}),this.computePool.map(e=>e.work(this)),this.computePool=[],a.forEach(e=>{(e.style.getColor().isAnimated()||e.style.getWidth().isAnimated())&&this._RAF()}),t.disable(t.CULL_FACE)},s.prototype._initShaders=function(){this.finalRendererProgram=n.a.createPointShader(this.gl),this.triRendererProgram=n.a.createTriShader(this.gl),this.lineRendererProgram=n.a.createLineShader(this.gl)},s.prototype.compute=function(e,t){return new Promise(r=>{this.computePool.push(new class{constructor(e,t,r){this.resolve=r}work(e){let t=0;e.dataframes.filter(e=>e.style).map(e=>{t+=e.numFeatures}),this.resolve(t)}}(e,t,r))})}},function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return u});var n=r(49),i=r(53);const a=4;function o(e,t,r){const n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){const r=e.getShaderInfoLog(n);throw e.deleteShader(n),new Error("An error occurred compiling the shaders: "+r+"\nSource:\n"+t)}return n}function f(e,t,r){const n=o(e,t,e.VERTEX_SHADER),i=o(e,r,e.FRAGMENT_SHADER);if(this.program=e.createProgram(),e.attachShader(this.program,n),e.attachShader(this.program,i),e.linkProgram(this.program),e.deleteShader(n),e.deleteShader(i),!e.getProgramParameter(this.program,e.LINK_STATUS))throw new Error("Unable to link the shader program: "+e.getProgramInfoLog(this.program))}function s(e,t,r,n){const i=t.VS;let o=t.FS;o=(o=o.replace("$PREFACE",r)).replace("$INLINE",n),f.call(this,e,i,o),this.vertexAttribute=e.getAttribLocation(this.program,"vertex"),this.textureLocations=[];for(let t=0;t<a;t++)this.textureLocations[t]=e.getUniformLocation(this.program,`property${t}`)}const c={createPointShader:function(e){return new function(e){f.call(this,e,n.b.VS,n.b.FS),this.vertexPositionAttribute=e.getAttribLocation(this.program,"vertexPosition"),this.featureIdAttr=e.getAttribLocation(this.program,"featureID"),this.vertexScaleUniformLocation=e.getUniformLocation(this.program,"vertexScale"),this.vertexOffsetUniformLocation=e.getUniformLocation(this.program,"vertexOffset"),this.colorTexture=e.getUniformLocation(this.program,"colorTex"),this.colorStrokeTexture=e.getUniformLocation(this.program,"colorStrokeTex"),this.strokeWidthTexture=e.getUniformLocation(this.program,"strokeWidthTex"),this.widthTexture=e.getUniformLocation(this.program,"widthTex"),this.orderMinWidth=e.getUniformLocation(this.program,"orderMinWidth"),this.orderMaxWidth=e.getUniformLocation(this.program,"orderMaxWidth")}(e)},createTriShader:function(e){return new function(e){f.call(this,e,n.c.VS,n.c.FS),this.vertexPositionAttribute=e.getAttribLocation(this.program,"vertexPosition"),this.featureIdAttr=e.getAttribLocation(this.program,"featureID"),this.vertexScaleUniformLocation=e.getUniformLocation(this.program,"vertexScale"),this.vertexOffsetUniformLocation=e.getUniformLocation(this.program,"vertexOffset"),this.colorTexture=e.getUniformLocation(this.program,"colorTex"),this.colorStrokeTexture=e.getUniformLocation(this.program,"colorStrokeTex"),this.strokeWidthTexture=e.getUniformLocation(this.program,"strokeWidthTex"),this.widthTexture=e.getUniformLocation(this.program,"widthTex")}(e)},createLineShader:function(e){return new function(e){f.call(this,e,n.a.VS,n.a.FS),this.vertexPositionAttribute=e.getAttribLocation(this.program,"vertexPosition"),this.featureIdAttr=e.getAttribLocation(this.program,"featureID"),this.normalAttr=e.getAttribLocation(this.program,"normal"),this.vertexScaleUniformLocation=e.getUniformLocation(this.program,"vertexScale"),this.vertexOffsetUniformLocation=e.getUniformLocation(this.program,"vertexOffset"),this.colorTexture=e.getUniformLocation(this.program,"colorTex"),this.colorStrokeTexture=e.getUniformLocation(this.program,"colorStrokeTex"),this.strokeWidthTexture=e.getUniformLocation(this.program,"strokeWidthTex"),this.widthTexture=e.getUniformLocation(this.program,"widthTex")}(e)}},u={createColorShader:function(e,t,r){return new function(e,t,r){s.call(this,e,i,t,r)}(e,t,r)},createWidthShader:function(e,t,r){return new function(e,t,r){s.call(this,e,i,t,`vec4((${r})/64.)`)}(e,t,r)}}},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function f(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,c=[],u=!1,l=-1;function h(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=f(h);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function b(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||f(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(17);function i(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(a,this,t),this.length=this._features.length}function a(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){var t=null,r=e.readVarint()+e.pos;for(;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}e.exports=i,i.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,t,this.extent,this._keys,this._values)}},function(e,t,r){"use strict";var n=r(68);function i(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(a,this,t)}function a(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){var r=e.readVarint()+e.pos;for(;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function o(e){for(var t,r,n=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],n+=((r=e[o]).x-t.x)*(t.y+r.y);return n}e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,i=1,a=0,o=0,f=0,s=[];e.pos<r;){if(!a){var c=e.readVarint();i=7&c,a=c>>3}if(a--,1===i||2===i)o+=e.readSVarint(),f+=e.readSVarint(),1===i&&(t&&s.push(t),t=[]),t.push(new n(o,f));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&s.push(t),s},i.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,a=0,o=1/0,f=-1/0,s=1/0,c=-1/0;e.pos<t;){if(!n){var u=e.readVarint();r=7&u,n=u>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<o&&(o=i),i>f&&(f=i),(a+=e.readSVarint())<s&&(s=a),a>c&&(c=a);else if(7!==r)throw new Error("unknown command "+r)}return[o,s,f,c]},i.prototype.toGeoJSON=function(e,t,r){var n,a,f=this.extent*Math.pow(2,r),s=this.extent*e,c=this.extent*t,u=this.loadGeometry(),l=i.types[this.type];function h(e){for(var t=0;t<e.length;t++){var r=e[t],n=180-360*(r.y+c)/f;e[t]=[360*(r.x+s)/f-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(n=0;n<u.length;n++)d[n]=u[n][0];h(u=d);break;case 2:for(n=0;n<u.length;n++)h(u[n]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],a=0;a<t;a++){var f=o(e[a]);0!==f&&(void 0===n&&(n=f<0),n===f<0?(r&&i.push(r),r=[e[a]]):r.push(e[a]))}r&&i.push(r);return i}(u),n=0;n<u.length;n++)for(a=0;a<u[n].length;a++)h(u[n][a])}1===u.length?u=u[0]:l="Multi"+l;var p={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p}},function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return f}),r.d(t,"a",function(){return s});var n=r(6),i=(r.n(n),r(5));let a=void 0;function o(e){s(e),a=e}function f(){return a}function s(e){if(n.isUndefined(e))throw new i.a("setup","authRequired");if(!n.isObject(e))throw new i.a("setup","authObjectRequired");e.username=e.user,function(e){if(n.isUndefined(e))throw new i.a("setup","apiKeyRequired");if(!n.isString(e))throw new i.a("setup","apiKeyStringRequired");if(n.isEmpty(e))throw new i.a("setup","nonValidApiKey")}(e.apiKey),function(e){if(n.isUndefined(e))throw new i.a("setup","usernameRequired");if(!n.isString(e))throw new i.a("setup","usernameStringRequired");if(n.isEmpty(e))throw new i.a("setup","nonValidUsername")}(e.username)}},function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return f}),r.d(t,"a",function(){return s});var n=r(6),i=(r.n(n),r(5));let a=void 0;function o(e){s(e),a=e}function f(){return a}function s(e){if(e){if(!n.isObject(e))throw new i.a("setup","configObjectRequired");!function(e){if(!n.isString(e))throw new i.a("setup","serverURLStringRequired")}(e.serverURL)}}},function(e,t,r){"use strict";var n=r(6),i=(r.n(n),r(1)),a=r(8),o=r(14),f=r(72),s=r(73),c=r(0),u=r(5);const l=1,h=i.rgba(0,1,0,.5),d=i.float(5),p=i.rgba(0,1,0,.5),b=i.float(0),g=i.noOrder(),v=["resolution","color","width","strokeColor","strokeWidth","order"];t.a=class{constructor(e){const t=this._getStyleDefinition(e);this._checkStyleSpec(t),this._styleSpec=t,this.updated=!0,this._changeCallback=null,this._styleSpec.color.parent=this,this._styleSpec.width.parent=this,this._styleSpec.strokeColor.parent=this,this._styleSpec.strokeWidth.parent=this,this._styleSpec.order.parent=this,this._styleSpec.color.notify=this._changed.bind(this),this._styleSpec.width.notify=this._changed.bind(this),this._styleSpec.strokeColor.notify=this._changed.bind(this),this._styleSpec.strokeWidth.notify=this._changed.bind(this),this._styleSpec.order.notify=this._changed.bind(this)}getResolution(){return this._styleSpec.resolution}getColor(){return this._styleSpec.color}getWidth(){return this._styleSpec.width}getStrokeColor(){return this._styleSpec.strokeColor}getStrokeWidth(){return this._styleSpec.strokeWidth}getOrder(){return this._styleSpec.order}onChange(e){this._changeCallback=e}_changed(){this._changeCallback&&this._changeCallback()}getMinimumNeededSchema(){return[this._styleSpec.color,this._styleSpec.width,this._styleSpec.strokeColor,this._styleSpec.strokeWidth].filter(e=>e&&e._getMinimumNeededSchema).map(e=>e._getMinimumNeededSchema()).reduce(a.union,a.IDENTITY)}_compileColorShader(e,t){this._styleSpec.color._bind(t);const r=Object(f.a)(e,this._styleSpec.color,o.b.createColorShader);this.propertyColorTID=r.tid,this.colorShader=r.shader}_compileWidthShader(e,t){this._styleSpec.width._bind(t);const r=Object(f.a)(e,this._styleSpec.width,o.b.createWidthShader);this.propertyWidthTID=r.tid,this.widthShader=r.shader}_compileStrokeColorShader(e,t){this._styleSpec.strokeColor._bind(t);const r=Object(f.a)(e,this._styleSpec.strokeColor,o.b.createColorShader);this.propertyStrokeColorTID=r.tid,this.strokeColorShader=r.shader}_compileStrokeWidthShader(e,t){this._styleSpec.strokeWidth._bind(t);const r=Object(f.a)(e,this._styleSpec.strokeWidth,o.b.createWidthShader);this.propertyStrokeWidthTID=r.tid,this.strokeWidthShader=r.shader}_replaceChild(e,t){if(e==this._styleSpec.color)this._styleSpec.color=t,t.parent=this,t.notify=e.notify;else if(e==this._styleSpec.width)this._styleSpec.width=t,t.parent=this,t.notify=e.notify;else if(e==this._styleSpec.strokeColor)this._styleSpec.strokeColor=t,t.parent=this,t.notify=e.notify;else{if(e!=this._styleSpec.strokeWidth)throw new Error("No child found");this._styleSpec.strokeWidth=t,t.parent=this,t.notify=e.notify}}_getStyleDefinition(e){if(n.isUndefined(e))return this._setDefaults({});if(n.isObject(e))return this._setDefaults(e);if(n.isString(e))return this._setDefaults(Object(s.a)(e));throw new u.a("style","nonValidDefinition")}_setDefaults(e){return e.resolution=n.isUndefined(e.resolution)?l:e.resolution,e.color=e.color||h,e.width=e.width||d,e.strokeColor=e.strokeColor||p,e.strokeWidth=e.strokeWidth||b,e.order=e.order||g,e}_checkStyleSpec(e){if(!n.isNumber(e.resolution))throw new u.a("style","resolutionNumberRequired");if(!(e.color instanceof c.a))throw new u.a("style","nonValidExpression[color]");if(!(e.width instanceof c.a))throw new u.a("style","nonValidExpression[width]");if(!(e.strokeColor instanceof c.a))throw new u.a("style","nonValidExpression[strokeColor]");if(!(e.strokeWidth instanceof c.a))throw new u.a("style","nonValidExpression[strokeWidth]");if(!(e.order instanceof c.a))throw new u.a("style","nonValidExpression[order]");n.forOwn(e,function(e,t){-1===v.indexOf(t)&&console.warn(`Property '${t}' is not supported`)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"source",function(){return l}),r.d(t,"style",function(){return u});var n=r(1),i=r(46),a=r(71),o=r(76),f=r(20),s=r(18),c=r(19);r.d(t,"Layer",function(){return a.a}),r.d(t,"setDefaultAuth",function(){return s.c}),r.d(t,"setDefaultConfig",function(){return c.c}),r.d(t,"Style",function(){return f.a});const u={expressions:n},l={Dataset:i.a,SQL:o.a}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(23);r.n(n);const i={};Object.keys(n).map(e=>{const t=n[e];var r=!1;for(let n=20;n>=0;n--)t[n]&&(r||(i[e.toLowerCase()]=(()=>t[n]),r=!0),i[`${e.toLowerCase()}_${n}`]=(()=>t[n]))})},function(e,t,r){e.exports=r(24)},function(e,t,r){var n,i;!function(){var a={Burg:{2:["#ffc6c4","#672044"],3:["#ffc6c4","#cc607d","#672044"],4:["#ffc6c4","#e38191","#ad466c","#672044"],5:["#ffc6c4","#ee919b","#cc607d","#9e3963","#672044"],6:["#ffc6c4","#f29ca3","#da7489","#b95073","#93345d","#672044"],7:["#ffc6c4","#f4a3a8","#e38191","#cc607d","#ad466c","#8b3058","#672044"],tags:["quantitative"]},BurgYl:{2:["#fbe6c5","#70284a"],3:["#fbe6c5","#dc7176","#70284a"],4:["#fbe6c5","#ee8a82","#c8586c","#70284a"],5:["#fbe6c5","#f2a28a","#dc7176","#b24b65","#70284a"],6:["#fbe6c5","#f4b191","#e7807d","#d06270","#a44360","#70284a"],7:["#fbe6c5","#f5ba98","#ee8a82","#dc7176","#c8586c","#9c3f5d","#70284a"],tags:["quantitative"]},RedOr:{2:["#f6d2a9","#b13f64"],3:["#f6d2a9","#ea8171","#b13f64"],4:["#f6d2a9","#f19c7c","#dd686c","#b13f64"],5:["#f6d2a9","#f3aa84","#ea8171","#d55d6a","#b13f64"],6:["#f6d2a9","#f4b28a","#ef9177","#e3726d","#cf5669","#b13f64"],7:["#f6d2a9","#f5b78e","#f19c7c","#ea8171","#dd686c","#ca5268","#b13f64"],tags:["quantitative"]},OrYel:{2:["#ecda9a","#ee4d5a"],3:["#ecda9a","#f7945d","#ee4d5a"],4:["#ecda9a","#f3ad6a","#f97b57","#ee4d5a"],5:["#ecda9a","#f1b973","#f7945d","#f86f56","#ee4d5a"],6:["#ecda9a","#f0c079","#f5a363","#f98558","#f76856","#ee4d5a"],7:["#ecda9a","#efc47e","#f3ad6a","#f7945d","#f97b57","#f66356","#ee4d5a"],tags:["quantitative"]},Peach:{2:["#fde0c5","#eb4a40"],3:["#fde0c5","#f59e72","#eb4a40"],4:["#fde0c5","#f8b58b","#f2855d","#eb4a40"],5:["#fde0c5","#f9c098","#f59e72","#f17854","#eb4a40"],6:["#fde0c5","#fac7a1","#f7ac80","#f38f65","#f0704f","#eb4a40"],7:["#fde0c5","#facba6","#f8b58b","#f59e72","#f2855d","#ef6a4c","#eb4a40"],tags:["quantitative"]},PinkYl:{2:["#fef6b5","#e15383"],3:["#fef6b5","#ffa679","#e15383"],4:["#fef6b5","#ffc285","#fa8a76","#e15383"],5:["#fef6b5","#ffd08e","#ffa679","#f67b77","#e15383"],6:["#fef6b5","#ffd795","#ffb77f","#fd9576","#f37378","#e15383"],7:["#fef6b5","#ffdd9a","#ffc285","#ffa679","#fa8a76","#f16d7a","#e15383"],tags:["quantitative"]},Mint:{2:["#e4f1e1","#0d585f"],3:["#e4f1e1","#63a6a0","#0d585f"],4:["#e4f1e1","#89c0b6","#448c8a","#0d585f"],5:["#E4F1E1","#9CCDC1","#63A6A0","#337F7F","#0D585F"],6:["#e4f1e1","#abd4c7","#7ab5ad","#509693","#2c7778","#0d585f"],7:["#e4f1e1","#b4d9cc","#89c0b6","#63a6a0","#448c8a","#287274","#0d585f"],tags:["quantitative"]},BluGrn:{2:["#c4e6c3","#1d4f60"],3:["#c4e6c3","#4da284","#1d4f60"],4:["#c4e6c3","#6dbc90","#36877a","#1d4f60"],5:["#c4e6c3","#80c799","#4da284","#2d7974","#1d4f60"],6:["#c4e6c3","#8dce9f","#5fb28b","#3e927e","#297071","#1d4f60"],7:["#c4e6c3","#96d2a4","#6dbc90","#4da284","#36877a","#266b6e","#1d4f60"],tags:["quantitative"]},DarkMint:{2:["#d2fbd4","#123f5a"],3:["#d2fbd4","#559c9e","#123f5a"],4:["#d2fbd4","#7bbcb0","#3a7c89","#123f5a"],5:["#d2fbd4","#8eccb9","#559c9e","#2b6c7f","#123f5a"],6:["#d2fbd4","#9cd5be","#6cafa9","#458892","#266377","#123f5a"],7:["#d2fbd4","#a5dbc2","#7bbcb0","#559c9e","#3a7c89","#235d72","#123f5a"],tags:["quantitative"]},Emrld:{2:["#d3f2a3","#074050"],3:["#d3f2a3","#4c9b82","#074050"],4:["#d3f2a3","#6cc08b","#217a79","#074050"],5:["#d3f2a3","#82d091","#4c9b82","#19696f","#074050"],6:["#d3f2a3","#8fda94","#60b187","#35877d","#145f69","#074050"],7:["#d3f2a3","#97e196","#6cc08b","#4c9b82","#217a79","#105965","#074050"],tags:["quantitative"]},ag_GrnYl:{2:["#245668","#EDEF5D"],3:["#245668","#39AB7E","#EDEF5D"],4:["#245668","#0D8F81","#6EC574","#EDEF5D"],5:["#245668","#04817E","#39AB7E","#8BD16D","#EDEF5D"],6:["#245668","#09787C","#1D9A81","#58BB79","#9DD869","#EDEF5D"],7:["#245668","#0F7279","#0D8F81","#39AB7E","#6EC574","#A9DC67","#EDEF5D"],tags:["aggregation"]},BluYl:{2:["#f7feae","#045275"],3:["#f7feae","#46aea0","#045275"],4:["#f7feae","#7ccba2","#089099","#045275"],5:["#f7feae","#9bd8a4","#46aea0","#058092","#045275"],6:["#f7feae","#ace1a4","#68bfa1","#2a9c9c","#02778e","#045275"],7:["#f7feae","#b7e6a5","#7ccba2","#46aea0","#089099","#00718b","#045275"],tags:["quantitative"]},Teal:{2:["#d1eeea","#2a5674"],3:["#d1eeea","#68abb8","#2a5674"],4:["#d1eeea","#85c4c9","#4f90a6","#2a5674"],5:["#d1eeea","#96d0d1","#68abb8","#45829b","#2a5674"],6:["#d1eeea","#a1d7d6","#79bbc3","#599bae","#3f7994","#2a5674"],7:["#d1eeea","#a8dbd9","#85c4c9","#68abb8","#4f90a6","#3b738f","#2a5674"],tags:["quantitative"]},TealGrn:{2:["#b0f2bc","#257d98"],3:["#b0f2bc","#4cc8a3","#257d98"],4:["#b0f2bc","#67dba5","#38b2a3","#257d98"],5:["#b0f2bc","#77e2a8","#4cc8a3","#31a6a2","#257d98"],6:["#b0f2bc","#82e6aa","#5bd4a4","#3fbba3","#2e9ea1","#257d98"],7:["#b0f2bc","#89e8ac","#67dba5","#4cc8a3","#38b2a3","#2c98a0","#257d98"],tags:["quantitative"]},Purp:{2:["#f3e0f7","#63589f"],3:["#f3e0f7","#b998dd","#63589f"],4:["#f3e0f7","#d1afe8","#9f82ce","#63589f"],5:["#f3e0f7","#dbbaed","#b998dd","#9178c4","#63589f"],6:["#f3e0f7","#e0c2ef","#c8a5e4","#aa8bd4","#8871be","#63589f"],7:["#f3e0f7","#e4c7f1","#d1afe8","#b998dd","#9f82ce","#826dba","#63589f"],tags:["quantitative"]},PurpOr:{3:["#f9ddda","#ce78b3","#573b88"],4:["#f9ddda","#e597b9","#ad5fad","#573b88"],5:["#f9ddda","#eda8bd","#ce78b3","#9955a8","#573b88"],6:["#f9ddda","#f0b2c1","#dd8ab6","#bb69b0","#8c4fa4","#573b88"],7:["#f9ddda","#f2b9c4","#e597b9","#ce78b3","#ad5fad","#834ba0","#573b88"],tags:["quantitative"]},Sunset:{2:["#f3e79b","#5c53a5"],3:["#f3e79b","#eb7f86","#5c53a5"],4:["#f3e79b","#f8a07e","#ce6693","#5c53a5"],5:["#f3e79b","#fab27f","#eb7f86","#b95e9a","#5c53a5"],6:["#f3e79b","#fabc82","#f59280","#dc6f8e","#ab5b9e","#5c53a5"],7:["#f3e79b","#fac484","#f8a07e","#eb7f86","#ce6693","#a059a0","#5c53a5"],tags:["quantitative"]},Magenta:{2:["#f3cbd3","#6c2167"],3:["#f3cbd3","#ca699d","#6c2167"],4:["#f3cbd3","#dd88ac","#b14d8e","#6c2167"],5:["#f3cbd3","#e498b4","#ca699d","#a24186","#6c2167"],6:["#f3cbd3","#e7a2b9","#d67ba5","#bc5894","#983a81","#6c2167"],7:["#f3cbd3","#eaa9bd","#dd88ac","#ca699d","#b14d8e","#91357d","#6c2167"],tags:["quantitative"]},SunsetDark:{2:["#fcde9c","#7c1d6f"],3:["#fcde9c","#e34f6f","#7c1d6f"],4:["#fcde9c","#f0746e","#dc3977","#7c1d6f"],5:["#fcde9c","#f58670","#e34f6f","#d72d7c","#7c1d6f"],6:["#fcde9c","#f89872","#ec666d","#df4273","#c5287b","#7c1d6f"],7:["#fcde9c","#faa476","#f0746e","#e34f6f","#dc3977","#b9257a","#7c1d6f"],tags:["quantitative"]},ag_Sunset:{2:["#4b2991","#edd9a3"],3:["#4b2991","#ea4f88","#edd9a3"],4:["#4b2991","#c0369d","#fa7876","#edd9a3"],5:["#4b2991","#a52fa2","#ea4f88","#fa9074","#edd9a3"],6:["#4b2991","#932da3","#d43f96","#f7667c","#f89f77","#edd9a3"],7:["#4b2991","#872ca2","#c0369d","#ea4f88","#fa7876","#f6a97a","#edd9a3"],tags:["aggregation"]},BrwnYl:{2:["#ede5cf","#541f3f"],3:["#ede5cf","#c1766f","#541f3f"],4:["#ede5cf","#d39c83","#a65461","#541f3f"],5:["#ede5cf","#daaf91","#c1766f","#95455a","#541f3f"],6:["#ede5cf","#ddba9b","#cd8c7a","#b26166","#8a3c56","#541f3f"],7:["#ede5cf","#e0c2a2","#d39c83","#c1766f","#a65461","#813753","#541f3f"],tags:["quantitative"]},ArmyRose:{2:["#929b4f","#db8195"],3:["#a3ad62","#fdfbe4","#df91a3"],4:["#929b4f","#d9dbaf","#f3d1ca","#db8195"],5:["#879043","#c1c68c","#fdfbe4","#ebb4b8","#d8758b"],6:["#7f883b","#b0b874","#e3e4be","#f6ddd1","#e4a0ac","#d66d85"],7:["#798234","#a3ad62","#d0d3a2","#fdfbe4","#f0c6c3","#df91a3","#d46780"],tags:["diverging"]},Fall:{2:["#3d5941","#ca562c"],3:["#3d5941","#f6edbd","#ca562c"],4:["#3d5941","#b5b991","#edbb8a","#ca562c"],5:["#3d5941","#96a07c","#f6edbd","#e6a272","#ca562c"],6:["#3d5941","#839170","#cecea2","#f1cf9e","#e19464","#ca562c"],7:["#3d5941","#778868","#b5b991","#f6edbd","#edbb8a","#de8a5a","#ca562c"],tags:["diverging"]},Geyser:{2:["#008080","#ca562c"],3:["#008080","#f6edbd","#ca562c"],4:["#008080","#b4c8a8","#edbb8a","#ca562c"],5:["#008080","#92b69e","#f6edbd","#e6a272","#ca562c"],6:["#008080","#7eab98","#ced7b1","#f1cf9e","#e19464","#ca562c"],7:["#008080","#70a494","#b4c8a8","#f6edbd","#edbb8a","#de8a5a","#ca562c"],tags:["diverging"]},Temps:{2:["#009392","#cf597e"],3:["#009392","#e9e29c","#cf597e"],4:["#009392","#9ccb86","#eeb479","#cf597e"],5:["#009392","#71be83","#e9e29c","#ed9c72","#cf597e"],6:["#009392","#52b684","#bcd48c","#edc783","#eb8d71","#cf597e"],7:["#009392","#39b185","#9ccb86","#e9e29c","#eeb479","#e88471","#cf597e"],tags:["diverging"]},TealRose:{2:["#009392","#d0587e"],3:["#009392","#f1eac8","#d0587e"],4:["#009392","#91b8aa","#f1eac8","#dfa0a0","#d0587e"],5:["#009392","#91b8aa","#f1eac8","#dfa0a0","#d0587e"],6:["#009392","#72aaa1","#b1c7b3","#e5b9ad","#d98994","#d0587e"],7:["#009392","#72aaa1","#b1c7b3","#f1eac8","#e5b9ad","#d98994","#d0587e"],tags:["diverging"]},Tropic:{2:["#009B9E","#C75DAB"],3:["#009B9E","#F1F1F1","#C75DAB"],4:["#009B9E","#A7D3D4","#E4C1D9","#C75DAB"],5:["#009B9E","#7CC5C6","#F1F1F1","#DDA9CD","#C75DAB"],6:["#009B9E","#5DBCBE","#C6DFDF","#E9D4E2","#D99BC6","#C75DAB"],7:["#009B9E","#42B7B9","#A7D3D4","#F1F1F1","#E4C1D9","#D691C1","#C75DAB"],tags:["diverging"]},Earth:{2:["#A16928","#2887a1"],3:["#A16928","#edeac2","#2887a1"],4:["#A16928","#d6bd8d","#b5c8b8","#2887a1"],5:["#A16928","#caa873","#edeac2","#98b7b2","#2887a1"],6:["#A16928","#c29b64","#e0cfa2","#cbd5bc","#85adaf","#2887a1"],7:["#A16928","#bd925a","#d6bd8d","#edeac2","#b5c8b8","#79a7ac","#2887a1"],tags:["diverging"]},Antique:{2:["#855C75","#D9AF6B","#7C7C7C"],3:["#855C75","#D9AF6B","#AF6458","#7C7C7C"],4:["#855C75","#D9AF6B","#AF6458","#736F4C","#7C7C7C"],5:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#7C7C7C"],6:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#7C7C7C"],7:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#7C7C7C"],8:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#7C7C7C"],9:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#7C7C7C"],10:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#8C785D","#7C7C7C"],11:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#8C785D","#467378","#7C7C7C"],tags:["qualitative"]},Bold:{2:["#7F3C8D","#11A579","#A5AA99"],3:["#7F3C8D","#11A579","#3969AC","#A5AA99"],4:["#7F3C8D","#11A579","#3969AC","#F2B701","#A5AA99"],5:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#A5AA99"],6:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#A5AA99"],7:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#A5AA99"],8:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#A5AA99"],9:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#A5AA99"],10:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#f97b72","#A5AA99"],11:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#f97b72","#4b4b8f","#A5AA99"],tags:["qualitative"]},Pastel:{2:["#66C5CC","#F6CF71","#B3B3B3"],3:["#66C5CC","#F6CF71","#F89C74","#B3B3B3"],4:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#B3B3B3"],5:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#B3B3B3"],6:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#B3B3B3"],7:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#B3B3B3"],8:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#B3B3B3"],9:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B3B3B3"],10:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#B3B3B3"],11:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],tags:["qualitative"]},Prism:{2:["#5F4690","#1D6996","#666666"],3:["#5F4690","#1D6996","#38A6A5","#666666"],4:["#5F4690","#1D6996","#38A6A5","#0F8554","#666666"],5:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#666666"],6:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#666666"],7:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#666666"],8:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#666666"],9:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#666666"],10:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#666666"],11:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#994E95","#666666"],tags:["qualitative"]},Safe:{2:["#88CCEE","#CC6677","#888888"],3:["#88CCEE","#CC6677","#DDCC77","#888888"],4:["#88CCEE","#CC6677","#DDCC77","#117733","#888888"],5:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#888888"],6:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#888888"],7:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#888888"],8:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#888888"],9:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#888888"],10:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#661100","#888888"],11:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#661100","#6699CC","#888888"],tags:["qualitative","colorblind"]},Vivid:{2:["#E58606","#5D69B1","#A5AA99"],3:["#E58606","#5D69B1","#52BCA3","#A5AA99"],4:["#E58606","#5D69B1","#52BCA3","#99C945","#A5AA99"],5:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#A5AA99"],6:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#A5AA99"],7:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#A5AA99"],8:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#A5AA99"],9:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#A5AA99"],10:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#ED645A","#A5AA99"],11:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#ED645A","#CC3A8E","#A5AA99"],tags:["qualitative"]}},o={Blues:{tags:["quantitative"]},BrBG:{tags:["diverging"]},Greys:{tags:["quantitative"]},PiYG:{tags:["diverging"]},PRGn:{tags:["diverging"]},Purples:{tags:["quantitative"]},RdYlGn:{tags:["diverging"]},Spectral:{tags:["diverging"]},YlOrBr:{tags:["quantitative"]},YlGn:{tags:["quantitative"]},YlGnBu:{tags:["quantitative"]},YlOrRd:{tags:["quantitative"]}},f=r(25);for(var s in f){var c=f[s],u={};for(var l in c)u[l]=c[l];s in o&&(u.tags=o[s].tags),a["cb_"+s]=u}void 0===(i="function"==typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=i)}()},function(e,t,r){e.exports=r(26)},function(e,t,r){var n,i;void 0===(i="function"==typeof(n={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}})?n.call(t,r,t,e):n)||(e.exports=i)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0);t.a=class extends a.a{constructor(e,t,r,i){e=Object(n.b)(e),t=Object(n.b)(t),r=Object(n.b)(r),i&&i.isInterpolator&&(r=i(r)),super({a:e,b:t,mix:r})}_compile(e){if(super._compile(e),"float"!=this.mix.type)throw new Error(`Blending cannot be performed by '${this.mix.type}'`);if("float"==this.a.type&&"float"==this.b.type)this.type="float";else{if("color"!=this.a.type||"color"!=this.b.type)throw new Error(`Blending cannot be performed between types '${this.a.type}' and '${this.b.type}'`);this.type="color"}this.inlineMaker=(e=>`mix(${e.a}, ${e.b}, clamp(${e.mix}, 0., 1.))`)}_preDraw(...e){super._preDraw(...e),this.mix instanceof i.a&&!this.mix.isAnimated()&&this.parent._replaceChild(this,this.b)}}},function(e,t,r){"use strict";var n=r(0),i=r(2);let a=0;t.a=class extends n.a{constructor(e,...t){t=t.map(i.b);let r={input:e};t.map((e,t)=>r[`arg${t}`]=e),super(r),this.bucketUID=a++,this.numCategories=t.length+1,this.args=t}_compile(e){super._compile(e),this.type="category",this.args.map(e=>{if(e.type!=this.input.type)throw new Error("Buckets() argument types mismatch")})}_applyToShaderSource(e,t){const r=this.childrenNames.map(r=>this[r]._applyToShaderSource(e,t));let n={};r.map((e,t)=>n[this.childrenNames[t]]=e.inline);const i=`buckets${this.bucketUID}`,a="category"==this.input.type?"==":"<",o=`float ${i}(float x){\n            ${this.args.map((e,t)=>`${t>0?"else":""} if (x${a}(${n[`arg${t}`]})){\n                return ${t+1}.;\n            }`).join("")}\n            return 0.;\n        }`;return{preface:r.map(e=>e.preface).reduce((e,t)=>e+t,"")+o,inline:`${i}(${n.input})`}}}},function(e,t,r){"use strict";var n=r(0),i=r(2);t.a=class extends n.a{constructor(e,t,r){super({l:e=Object(i.b)(e),a:t=Object(i.b)(t),b:r=Object(i.b)(r)})}_compile(e){if(super._compile(e),"float"!=this.l.type||"float"!=this.a.type||"float"!=this.b.type)throw new Error("CIELab() invalid parameters");this.type="color",this._setGenericGLSL(e=>`vec4(xyztosrgb(cielabtoxyz(\n                vec3(\n                    clamp(${e.l}, 0., 100.),\n                    clamp(${e.a}, -128., 128.),\n                    clamp(${e.b}, -128., 128.)\n                )\n            )), 1)`,"\n        #ifndef cielabtoxyz_fn\n        #define cielabtoxyz_fn\n\n        const mat3 XYZ_2_RGB = (mat3(\n            3.2404542,-1.5371385,-0.4985314,\n           -0.9692660, 1.8760108, 0.0415560,\n            0.0556434,-0.2040259, 1.0572252\n       ));\n       const float SRGB_GAMMA = 1.0 / 2.2;\n\n       vec3 rgb_to_srgb_approx(vec3 rgb) {\n        return pow(rgb, vec3(SRGB_GAMMA));\n    }\n        float f1(float t){\n            const float sigma = 6./29.;\n            if (t>sigma){\n                return t*t*t;\n            }else{\n                return 3.*sigma*sigma*(t-4./29.);\n            }\n        }\n        vec3 cielabtoxyz(vec3 c) {\n            const float xn = 95.047/100.;\n            const float yn = 100./100.;\n            const float zn = 108.883/100.;\n            return vec3(xn*f1((c.x+16.)/116.  + c.y/500. ),\n                        yn*f1((c.x+16.)/116.),\n                        zn*f1((c.x+16.)/116.  - c.z/200. )\n                    );\n        }\n        vec3 xyztorgb(vec3 c){\n            return c *XYZ_2_RGB;\n        }\n\n        vec3 xyztosrgb(vec3 c) {\n            return rgb_to_srgb_approx(xyztorgb(c));\n        }\n        #endif\n        ")}}},function(e,t,r){"use strict";var n=r(0);t.a=class extends n.a{constructor(e){if(!Number.isFinite(e))throw new Error(`Invalid arguments to Float(): ${e}`);super({}),this.expr=e}_compile(){this.type="float"}_applyToShaderSource(e){return this._uniformID=e(),{preface:`uniform float float${this._uniformID};\n`,inline:`float${this._uniformID}`}}_postShaderCompile(e,t){this._uniformLocation=t.getUniformLocation(e,`float${this._uniformID}`)}_preDraw(e,t){t.uniform1f(this._uniformLocation,this.expr)}isAnimated(){return!1}}},function(e,t,r){"use strict";var n=r(0);t.a=class extends n.a{constructor(e){if("string"!=typeof e)throw new Error(`Invalid arguments to Category(): ${e}`);super({}),this.expr=e}_compile(e){this.type="category",this._metadata=e}_applyToShaderSource(e){return this._uniformID=e(),{preface:`uniform float cat${this._uniformID};\n`,inline:`cat${this._uniformID}`}}_postShaderCompile(e,t){this._uniformLocation=t.getUniformLocation(e,`cat${this._uniformID}`)}_preDraw(e,t){const r=this._metadata.categoryIDs[this.expr];t.uniform1f(this._uniformLocation,r)}isAnimated(){return!1}}},function(e,t,r){"use strict";var n=r(0),i=r(2);t.a=class extends n.a{constructor(e,t,r){super({h:e=Object(i.b)(e),s:t=Object(i.b)(t),v:r=Object(i.b)(r)})}_compile(e){function t(e){return!("float"==e.type||"category"==e.type)}if(super._compile(e),t(this.h)||t(this.s)||t(this.v))throw new Error("CIELab() invalid parameters");this.type="color";const r=(e,t=!1)=>"category"==e.type?`/${t?e.numCategories+1:e.numCategories}.`:"";super._setGenericGLSL(e=>`vec4(hsv2rgb(vec3(${e.h}${r(this.h,!0)}, clamp(${e.s}${r(this.s)}, 0.,1.), clamp(${e.v}${r(this.v)}, 0.,1.))), 1)`,"\n    #ifndef HSV2RGB\n    #define HSV2RGB\n    vec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n    }\n    #endif\n    ")}}},function(e,t,r){"use strict";var n=r(0);t.a=class extends n.a{constructor(e,t,r){super({input:e,min:t,max:r})}_compile(e){super._compile(e),this.inlineMaker=(e=>`((${e.input}-${e.min})/(${e.max}-${e.min}))`)}}},function(e,t,r){"use strict";var n=r(0),i=r(2);t.a=class extends n.a{constructor(e,t,r,n){super({input:e=Object(i.b)(e),center:t=Object(i.b)(t),threshold:r=Object(i.b)(r),falloff:n=Object(i.b)(n)})}_compile(e){if(super._compile(e),"float"!=this.input.type||"float"!=this.center.type||"float"!=this.threshold.type||"float"!=this.falloff.type)throw new Error("Near(): invalid parameter type");this.type="float",this.inlineMaker=(e=>`(1.-clamp((abs(${e.input}-${e.center})-${e.threshold})/${e.falloff},\n        0., 1.))`)}}},function(e,t,r){"use strict";var n=r(0),i=r(1);const a=Date.now();t.a=class extends n.a{constructor(){super({now:Object(i.float)(0)})}_compile(e){super._compile(e),this.type="float",super.inlineMaker=(e=>e.now)}_preDraw(...e){this.now.expr=(Date.now()-a)/1e3,this.now._preDraw(...e)}isAnimated(){return!0}}},function(e,t,r){"use strict";var n=r(0);t.a=class extends n.a{constructor(e){if("string"!=typeof e||""==e)throw new Error(`Invalid property name '${e}'`);super({}),this.name=e}_compile(e){const t=e.columns.find(e=>e.name==this.name);if(!t)throw new Error(`Property '${this.name}' does not exist`);this.type=t.type,"category"==this.type&&(this.numCategories=t.categoryNames.length),super._setGenericGLSL((e,t,r)=>`p${r(this.name)}`)}_getMinimumNeededSchema(){return{columns:[this.name]}}}},function(e,t,r){"use strict";var n=r(0),i=r(2),a=r(1);t.a=class extends n.a{constructor(e,t,r,n){e=Object(i.b)(e),void 0!==r&&(r=Object(i.b)(r),n=Object(i.b)(n));var o=Object(i.b)(t);super({input:e}),void 0===r&&(r=Object(a.float)(0),n=Object(a.float)(1)),this.minKey=r.expr,this.maxKey=n.expr,this.values=o}_compile(e){super._compile(e),this.type="color","category"==this.input.type&&(this.maxKey=this.input.numCategories-1)}_free(e){e.deleteTexture(this.texture)}_applyToShaderSource(e,t){this._UID=e();const r=this.input._applyToShaderSource(e,t);return{preface:r.preface+`\n        uniform sampler2D texRamp${this._UID};\n        uniform float keyMin${this._UID};\n        uniform float keyWidth${this._UID};\n        `,inline:`texture2D(texRamp${this._UID}, vec2((${r.inline}-keyMin${this._UID})/keyWidth${this._UID}, 0.5)).rgba`}}_postShaderCompile(e,t){if(!this.init){this.init=!0,this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture);const e=0,n=t.RGBA,a=256,o=1,f=0,s=t.RGBA,c=t.UNSIGNED_BYTE,u=new Uint8Array(4*a),l=this.values;for(var r=0;r<a;r++){const e=l[Math.floor(r/a*(l.length-1))],t=l[Math.ceil(r/a*(l.length-1))],n=[Object(i.a)(e).r,Object(i.a)(e).g,Object(i.a)(e).b,255],o=[Object(i.a)(t).r,Object(i.a)(t).g,Object(i.a)(t).b,255],f=r/a*(l.length-1)-Math.floor(r/a*(l.length-1)),s=n.map((e,t)=>e*(1-f)+o[t]*f);u[4*r+0]=s[0],u[4*r+1]=s[1],u[4*r+2]=s[2],u[4*r+3]=s[3]}t.texImage2D(t.TEXTURE_2D,e,n,a,o,f,s,c,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)}this.input._postShaderCompile(e,t),this._texLoc=t.getUniformLocation(e,`texRamp${this._UID}`),this._keyMinLoc=t.getUniformLocation(e,`keyMin${this._UID}`),this._keyWidthLoc=t.getUniformLocation(e,`keyWidth${this._UID}`)}_preDraw(e,t){this.input._preDraw(e,t),t.activeTexture(t.TEXTURE0+e.freeTexUnit),t.bindTexture(t.TEXTURE_2D,this.texture),t.uniform1i(this._texLoc,e.freeTexUnit),t.uniform1f(this._keyMinLoc,this.minKey),t.uniform1f(this._keyWidthLoc,this.maxKey-this.minKey),e.freeTexUnit++}}},function(e,t,r){"use strict";var n=r(0),i=r(1);t.a=class extends n.a{constructor(e,t,r,n){var a=[e,t,r,n];super({r:e=(a=a.map(e=>Number.isFinite(e)?Object(i.float)(e):e))[0],g:t=a[1],b:r=a[2],a:n=a[3]})}_compile(e){if(super._compile(e),"float"!=this.r.type||"float"!=this.g.type||"float"!=this.b.type||"float"!=this.a.type)throw new Error("Invalid parameters for RGBA()");this.type="color",this.inlineMaker=(e=>`vec4(${e.r}, ${e.g}, ${e.b}, ${e.a})`)}}},function(e,t,r){"use strict";var n=r(0),i=r(1);t.a=class extends n.a{constructor(e,t){Number.isFinite(t)&&(t=Object(i.float)(t)),super({a:e,b:t})}_compile(e){if(super._compile(e),"color"!=this.a.type||"float"!=this.b.type)throw new Error(`Opacity cannot be performed between '${this.a.type}' and '${this.b.type}'`);this.type="color",this.inlineMaker=(e=>`vec4((${e.a}).rgb, ${e.b})`)}}},function(e,t,r){"use strict";var n=r(0);t.a=class extends n.a{constructor(e,t){super({property:e}),this.buckets=t}_compile(e){if(super._compile(e),"category"!=this.property.type)throw new Error(`top() first argument must be of type category, but it is of type '${this.property.type}'`);this.type="category",this.numCategories=this.buckets+1,this._meta=e}_applyToShaderSource(e,t){this._UID=e();const r=this.property._applyToShaderSource(e,t);return{preface:r.preface+`uniform sampler2D topMap${this._UID};\n`,inline:`(255.*texture2D(topMap${this._UID}, vec2(${r.inline}/1024., 0.5)).a)`}}_postShaderCompile(e,t){if(!this.init){this.buckets>this.property.numCategories&&(this.buckets=this.property.numCategories),this.init=!0,this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture);const e=1024;let r=new Uint8Array(4*e);this._meta.columns.find(e=>e.name==this.property.name).categoryNames.map((e,t)=>{t<this.buckets&&(r[4*this._meta.categoryIDs[e]+3]=t+1)}),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,1,0,t.RGBA,t.UNSIGNED_BYTE,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)}this.property._postShaderCompile(e),this._texLoc=t.getUniformLocation(e,`topMap${this._UID}`)}_preDraw(e,t){this.property._preDraw(e),t.activeTexture(t.TEXTURE0+e.freeTexUnit),t.bindTexture(t.TEXTURE_2D,this.texture),t.uniform1i(this._texLoc,e.freeTexUnit),e.freeTexUnit++}}},function(e,t,r){"use strict";var n=r(0),i=r(2);t.a=class extends n.a{constructor(e,t,r){super({x:e=Object(i.b)(e),y:t=Object(i.b)(t),z:r=Object(i.b)(r)})}_compile(e){if(super._compile(e),"float"!=this.x.type||"float"!=this.y.type||"float"!=this.z.type)throw new Error("XYZ() invalid parameters");this.type="color",this._setGenericGLSL(e=>`vec4(xyztosrgb((\n                vec3(\n                    clamp(${e.x}, -100000., 10000.),\n                    clamp(${e.y}, -12800., 12800.),\n                    clamp(${e.z}, -12800., 12800.)\n                )\n            )), 1)`,"\n        #ifndef cielabtoxyz_fn\n        #define cielabtoxyz_fn\n\n        const mat3 XYZ_2_RGB = (mat3(\n            3.2404542,-1.5371385,-0.4985314,\n           -0.9692660, 1.8760108, 0.0415560,\n            0.0556434,-0.2040259, 1.0572252\n       ));\n       const mat3 XYZ_2_RGB_T = (mat3(\n        3.2404542,-0.9692660,0.0556434,\n        -1.5371385, 1.8760108, -0.2040259,\n        -0.4985314,0.0415560, 1.0572252\n   ));\n       const float SRGB_GAMMA = 1.0 / 2.2;\n\n       vec3 rgb_to_srgb_approx(vec3 rgb) {\n        return pow(rgb, vec3(SRGB_GAMMA));\n    }\n        float f1(float t){\n            const float sigma = 6./29.;\n            if (t>sigma){\n                return t*t*t;\n            }else{\n                return 3.*sigma*sigma*(t-4./29.);\n            }\n        }\n        vec3 cielabtoxyz(vec3 c) {\n            const float xn = 95.047;\n            const float yn = 100.;\n            const float zn = 108.883;\n            return vec3(xn*f1((c.x+16.)/116.  + c.y/500. ),\n                        yn*f1((c.x+16.)/116.),\n                        zn*f1((c.x+16.)/116.  - c.z/200. )\n                    );\n        }\n        vec3 xyztorgb(vec3 c){\n            return c * XYZ_2_RGB;\n        }\n\n        vec3 xyztosrgb(vec3 c) {\n            return rgb_to_srgb_approx(xyztorgb(c));\n        }\n        #endif\n        ")}}},function(e,t,r){"use strict";var n=r(0),i=r(1);t.a=class extends n.a{constructor(){super({zoom:Object(i.float)(0)})}_compile(e){super._compile(e),this.type="float",super.inlineMaker=(e=>e.zoom)}_preDraw(e,t){this.zoom.expr=e.zoom,this.zoom._preDraw(e,t)}}},function(e,t,r){"use strict";var n=r(0),i=r(1);let a=0;t.a=class extends n.a{constructor(e,t){if(!Number.isFinite(t))throw new Error("Quantiles() only accepts a fixed number of buckets");let r={input:e},n=[];for(let e=0;e<t-1;e++)r[`arg${e}`]=Object(i.float)(10*e),n.push(r[`arg${e}`]);super(r),this.quantilesUID=a++,this.numCategories=t,this.buckets=t,this.breakpoints=n}_compile(e){super._compile(e),this.type="category"}_getDrawMetadataRequirements(){return{columns:[this.input.name]}}_applyToShaderSource(e,t){const r=this.childrenNames.map(r=>this[r]._applyToShaderSource(e,t));let n={};r.map((e,t)=>n[this.childrenNames[t]]=e.inline);const i=`quantiles${this.quantilesUID}`,a=`float ${i}(float x){\n        ${this.breakpoints.map((e,t)=>`${t>0?"else":""} if (x<(${n[`arg${t}`]})){\n            return ${t+1}.;\n        }`).join("")}\n        return 0.;\n    }`;return{preface:r.map(e=>e.preface).reduce((e,t)=>e+t,"")+a,inline:`${i}(${n.input})`}}_preDraw(e,t){const r=e.columns.find(e=>e.name==this.input.name);let n=0;const i=r.accumHistogram[r.histogramBuckets-1];Math.random();let a=[];this.breakpoints.map((e,t)=>{for(;n<r.histogramBuckets&&!(r.accumHistogram[n]>=(t+1)/this.buckets*i);n++);const o=n/r.histogramBuckets*(r.max-r.min)+r.min;a.push(o),e.expr=o}),super._preDraw(e,t)}getBreakpointList(){return this.breakpoints.map(e=>e.expr)}}},function(e,t,r){"use strict";var n=r(0),i=r(1);const a=u("max");t.c=a;const o=u("min");t.d=o;const f=u("avg");t.a=f;const s=u("sum");t.f=s;const c=u("count");function u(e){return class extends n.a{constructor(e){super({value:Object(i.float)(0)}),this.property=e}_compile(e){super._compile(e),this.property._compile(e),this.type="float",super.inlineMaker=(e=>e.value)}_getMinimumNeededSchema(){return this.property._getMinimumNeededSchema()}_getDrawMetadataRequirements(){return{columns:[this.property.name]}}_preDraw(t,r){const n=t.columns.find(e=>e.name==this.property.name);this.value.expr=n[e],Math.random()>.999&&console.log(e,this.property.name,n[e],t),this.value._preDraw(t,r)}getValue(){return this.value.expr}}}t.b=c;t.e=class extends n.a{constructor(e,t){if(!Number.isFinite(t))throw new Error("Percentile must be a fixed literal number");super({value:Object(i.float)(0)}),this.property=e,this.percentile=t}_compile(e){super._compile(e),this.property._compile(e),this.type="float",super.inlineMaker=(e=>e.value)}_getMinimumNeededSchema(){return this.property._getMinimumNeededSchema()}_getDrawMetadataRequirements(){return{columns:[this.property.name]}}_preDraw(e,t){const r=e.columns.find(e=>e.name==this.property.name),n=r.accumHistogram[999];for(var i=0;i<r.histogramBuckets&&!(r.accumHistogram[i]>=this.percentile/100*n);i++);const a=i/r.histogramBuckets*(r.max-r.min)+r.min;this.value.expr=a,Math.random()>.99&&console.log(`percentile${this.percentile}`,this.property.name,a,e),this.value._preDraw(e,t)}getValue(){return this.value.expr}}},function(e,t,r){"use strict";var n=r(0);class i extends n.a{constructor(){super({}),this.type="propertyReference"}}t.d=i;t.a=class extends n.a{constructor(e){if(super({}),!(e instanceof i))throw new Error("Asc() only accepts 'width()' for now");this.type="orderer"}};t.b=class extends n.a{constructor(e){if(super({}),!(e instanceof i))throw new Error("Desc() only accepts 'width()' for now");this.type="orderer"}};t.c=class extends n.a{constructor(){super({}),this.type="orderer"}}},function(e,t,r){"use strict";var n=r(6),i=(r.n(n),r(9)),a=r(5);t.a=class extends i.a{constructor(e,t,r){super(),this._checkTableName(e),this._tableName=e,this.initialize(t,r)}_checkTableName(e){if(n.isUndefined(e))throw new a.a("source","tableNameRequired");if(!n.isString(e))throw new a.a("source","tableNameStringRequired");if(n.isEmpty(e))throw new a.a("source","nonValidTableName")}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=r(13),i=r(56),a=r(57),o=(r.n(a),r(59)),f=(r.n(o),r(66));r.n(f);function s(e){let t=0;for(let r=0;r<e.length;r++){let n=(r+1)%e.length;t+=e[r].x*e[n].y,t-=e[n].x*e[r].y}return t>0}function c(e){return e.replace(/_cdb_agg_[a-zA-Z0-9]+_/g,"")}t.a=class{constructor(e){this._source=e,this._requestGroupID=0,this._oldDataframes=[],this._MNS=null,this._promiseMNS=null,this._categoryStringToIDMap={},this._numCategories=0;const t={max:1e3,length:function(){return 1},dispose:(e,t)=>{t.then(e=>{e.empty||(console.log("FREE",e),e.free(),this._removeDataframe(e))})},maxAge:36e5};this.cache=o(t)}_bindLayer(e,t){this._addDataframe=e,this._removeDataframe=t}_getData(e,t,r){if(!n.c.equals(this._MNS,t)||r!=this.resolution)return this._MNS=t,this.resolution=r,this._instantiate(t,r);if(!this.url)return;const a=i.b(e);this._requestGroupID++;var o=[],f=a.length;const s=this._requestGroupID;a.forEach(e=>{const t=e.x,r=e.y,n=e.z;this.getDataframe(t,r,n).then(e=>{e.empty?f--:o.push(e),o.length==f&&s==this._requestGroupID&&(this._oldDataframes.map(e=>e.active=!1),o.map(e=>e.active=!0),this._oldDataframes=o)})})}_getCategoryIDFromString(e){return this._categoryStringToIDMap[e]?this._categoryStringToIDMap[e]:(this._numCategories++,this._categoryStringToIDMap[e]=this._numCategories,this._numCategories)}_instantiate(e,t){this._oldDataframes=[],this.cache.reset(),this.url=null;let r={threshold:1,resolution:t,columns:{},dimensions:{}};e.columns.map(e=>{if(e.startsWith("_cdb_agg_")){const t=c(e),n=function(e){let t=e.substr("_cdb_agg_".length);return t.substr(0,t.indexOf("_"))}(e);r.columns[e]={aggregate_function:n,aggregated_column:t}}else r.dimensions[e]=e});const n=e.columns.map(e=>e.startsWith("_cdb_agg_")?c(e):e).concat(["the_geom","the_geom_webmercator"]),i=this._source._query?this._source._query:`SELECT ${n.filter((e,t)=>n.indexOf(e)==t).join()} FROM ${this._source._tableName}`;r.placement="centroid";const a=`(${i}) AS tmp`,o={apiKey:this._source._apiKey,username:this._source._username,serverURL:this._source._serverURL},f=this._getUrlPromise(a,o,r,i);return this.metadataPromise=this.getMetadata(a,e,o),(async()=>{try{const e=await this.metadataPromise;return this.url=await f,e}catch(e){throw new Error("Invalid source")}})()}free(){this.cache.reset()}_generateDataFrame(e,t,r,i,a){const o=new n.a(e.center,e.scale,t,r);return o.type=a,o.size=i,o}async _getUrlPromise(e,t,r,n){this.geomType=await async function(e,t){const r=`SELECT ST_GeometryType(the_geom) AS type FROM ${e} WHERE the_geom IS NOT NULL LIMIT 1;`,n=await fetch(`${t.serverURL}/api/v2/sql?q=`+encodeURIComponent(r)),i=(await n.json()).rows[0].type;switch(i){case"ST_MultiPolygon":return"polygon";case"ST_Point":return"point";case"ST_MultiLineString":return"line";default:throw new Error(`Unimplemented geometry type ''${i}'`)}}(e,t),"point"!=this.geomType&&(r=!1);const i={buffersize:{mvt:0},layers:[{type:"mapnik",options:{sql:n,aggregation:r}}]},a=await fetch(u(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)}),o=await a.json();return l(o,0,t)}getDataframe(e,t,r){const n=`${e},${t},${r}`,i=this.cache.get(n);if(i)return i;const a=this.requestDataframe(e,t,r);return this.cache.set(n,a),a}requestDataframe(e,t,r){return fetch(this.url(e,t,r)).then(e=>e.arrayBuffer()).then(n=>this.metadataPromise.then(o=>{if(0==n.byteLength||"null"==n)return{empty:!0};var s=new f.VectorTile(new a(n));const u=s.layers[Object.keys(s.layers)[0]];var l={};const h=[],d=[],p=[],b=[];this._MNS.columns.map(e=>{const t=e.startsWith("_cdb_agg_")?c(e):e;"category"==o.columns.find(e=>e.name==t).type?(d.push(e),p.push(e)):(h.push(e),b.push(e))}),p.map((e,t)=>l[e]=t),b.map((e,t)=>l[e]=t+d.length);const{points:g,featureGeometries:v,properties:y}=this._decodeMVTLayer(u,o,4096,d,p,h);var m=i.a(e,t,r);let _={};Object.keys(l).map((e,t)=>{_[e]=y[t]});let x="point"==this.geomType?g:v;const w=this._generateDataFrame(m,x,_,u.length,this.geomType);return this._addDataframe(w),w}))}_decodeMVTLayer(e,t,r,n,i,a){var o=[new Float32Array(e.length+1024),new Float32Array(e.length+1024),new Float32Array(e.length+1024),new Float32Array(e.length+1024)];if("point"==this.geomType)var f=new Float32Array(2*e.length);let c=[];for(var u=0;u<e.length;u++){const t=e.feature(u),i=t.loadGeometry();let l=[];if("point"==this.geomType)f[2*u+0]=2*i[0][0].x/r-1,f[2*u+1]=2*(1-i[0][0].y/r)-1;else if("polygon"==this.geomType){let e=null;for(let t=0;t<i.length;t++){if(s(i[t]))e&&l.push(e),e={flat:[],holes:[]};else{if(0==t)throw new Error("Invalid MVT tile: first polygon ring MUST be external");e.holes.push(e.flat.length/2)}for(let n=0;n<i[t].length;n++)e.flat.push(2*i[t][n].x/r-1),e.flat.push(2*(1-i[t][n].y/r)-1)}e&&e.flat.length>0&&l.push(e),c.push(l)}else{if("line"!=this.geomType)throw new Error(`Unimplemented geometry type: '${this.geomType}'`);i.map(e=>{let t=[];e.map(e=>{t.push(2*e.x/r-1,2*(1-e.y/r)-1)}),l.push(t)}),c.push(l)}n.map((e,r)=>{o[r][u]=this._getCategoryIDFromString(t.properties[e])}),a.map((e,r)=>{o[r+n.length][u]=Number(t.properties[e])})}return{properties:o,points:f,featureGeometries:c}}async getMetadata(e,t,r){const n={featureCount:1e3,columns:[]},i=await async function(e,t){const r=`select * from ${e} limit 0;`,n=await fetch(`${t.serverURL}/api/v2/sql?q=`+encodeURIComponent(r));return(await n.json()).fields}(e,r);let a=[],o=[];Object.keys(i).map(e=>{const t=i[e].type;"number"==t?a.push(e):"string"==t&&o.push(e)});const f=await async function(e,t,r){const n=["min","max","sum","avg"],i=`SELECT ${e.map(e=>n.map(t=>`${t}(${e}) AS ${e}_${t}`)).concat(["COUNT(*)"]).join()} FROM ${t};`,a=await fetch(`${r.serverURL}/api/v2/sql?q=`+encodeURIComponent(i)),o=await a.json();return e.map(e=>({name:e,type:"float",min:o.rows[0][`${e}_min`],max:o.rows[0][`${e}_max`],avg:o.rows[0][`${e}_avg`],sum:o.rows[0][`${e}_sum`]}))}(a,e,r),s=await async function(e,t,r){return Promise.all(e.map(async e=>{const n=`SELECT COUNT(*), ${e} AS name FROM ${t} GROUP BY ${e} ORDER BY COUNT(*) DESC;`,i=await fetch(`${r.serverURL}/api/v2/sql?q=`+encodeURIComponent(n)),a=await i.json();let o=[],f=[];return a.rows.map(e=>{o.push(e.count),f.push(e.name)}),{name:e,type:"category",categoryNames:f,categoryCounts:o}}))}(o,e,r);return a.map((e,t)=>{const r=f[t];n.columns.push(r)}),n.categoryIDs={},o.map((e,t)=>{const r=s[t];r.categoryNames.map(e=>n.categoryIDs[e]=this._getCategoryIDFromString(e)),n.columns.push(r)}),n}};const u=e=>`${e.serverURL}/api/v1/map?api_key=${e.apiKey}`,l=function(e,t,r){let n=0;return(i,a,o)=>{if(n++,e.cdn_url&&e.cdn_url.templates){return`${e.cdn_url.templates.https.url}/${r.username}/api/v1/map/${e.layergroupid}/${t}/${o}/${i}/${a}.mvt?api_key=${r.apiKey}`.replace("{s}",e.cdn_url.templates.https.subdomains[n%e.cdn_url.templates.https.subdomains.length])}return`${u(r)}/${e.layergroupid}/${t}/${o}/${i}/${a}.mvt`.replace("{s}",e.cdn_url.templates.https.subdomains[n%e.cdn_url.templates.https.subdomains.length])}}},function(e,t,r){"use strict";var n=r(50),i=r(51),a=r(52);r.d(t,"b",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"a",function(){return a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VS="\n\nprecision highp float;\n\nattribute vec2 vertexPosition;\nattribute vec2 featureID;\n\nuniform vec2 vertexScale;\nuniform vec2 vertexOffset;\nuniform float orderMinWidth;\nuniform float orderMaxWidth;\n\nuniform sampler2D colorTex;\nuniform sampler2D widthTex;\nuniform sampler2D colorStrokeTex;\nuniform sampler2D strokeWidthTex;\n//TODO order bucket texture\n\nvarying lowp vec4 color;\nvarying lowp vec4 stroke;\nvarying highp float dp;\nvarying highp float sizeNormalizer;\nvarying highp float fillScale;\nvarying highp float strokeScale;\n\nvoid main(void) {\n    color = texture2D(colorTex, featureID);\n    stroke = texture2D(colorStrokeTex, featureID);\n\n    float size = 64.*texture2D(widthTex, featureID).a;\n    float fillSize = size;\n    float strokeSize = 64.*texture2D(strokeWidthTex, featureID).a;\n    size+=strokeSize*0.5;\n    fillScale=size/fillSize;\n    strokeScale=size/max(0.001, (fillSize-strokeSize*0.5));\n    if (fillScale==strokeScale){\n        stroke.a=0.;\n    }\n    gl_PointSize = size+2.;\n    dp = 1.0/(size+1.);\n    sizeNormalizer = (size+1.)/(size);\n\n    vec4 p = vec4(vertexScale*vertexPosition-vertexOffset, 0.5, 1.);\n    if (size==0. || (stroke.a==0. && color.a==0.) || size<orderMinWidth || size>orderMaxWidth){\n        p.x=10000.;\n    }\n    gl_Position  = p;\n}";t.FS="\nprecision highp float;\n\nvarying lowp vec4 color;\nvarying lowp vec4 stroke;\nvarying highp float dp;\nvarying highp float sizeNormalizer;\nvarying highp float fillScale;\nvarying highp float strokeScale;\n\nfloat distanceAntialias(vec2 p){\n    return 1. - smoothstep(1.-dp*1.4142, 1.+dp*1.4142, length(p));\n}\n\n\nvoid main(void) {\n    vec2 p = (2.*gl_PointCoord-vec2(1.))*sizeNormalizer;\n    vec4 c = color;\n\n    vec4 s = stroke;\n\n    c.a *= distanceAntialias(p*fillScale);\n    c.rgb*=c.a;\n\n    s.a *= distanceAntialias(p);\n    s.a *= 1.-distanceAntialias((strokeScale)*p);\n    s.rgb*=s.a;\n\n    c=s+(1.-s.a)*c;\n\n    gl_FragColor = c;\n}"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VS="\n\nprecision highp float;\n\nattribute vec2 vertexPosition;\nattribute vec2 featureID;\n\nuniform vec2 vertexScale;\nuniform vec2 vertexOffset;\n\nuniform sampler2D colorTex;\nuniform sampler2D widthTex;\nuniform sampler2D colorStrokeTex;\nuniform sampler2D strokeWidthTex;\n\nvarying lowp vec4 color;\nvarying lowp vec4 stroke;\nvarying highp float dp;\nvarying highp float sizeNormalizer;\nvarying highp float fillScale;\nvarying highp float strokeScale;\n\nvoid main(void) {\n    color = texture2D(colorTex, featureID);\n    stroke = texture2D(colorStrokeTex, featureID);\n\n    float size = 64.*texture2D(widthTex, featureID).a;\n    float fillSize = size;\n    float strokeSize = 64.*texture2D(strokeWidthTex, featureID).a;\n    size+=strokeSize*0.5;\n    fillScale=size/fillSize;\n    strokeScale=size/max(0.001, (fillSize-strokeSize*0.5));\n    if (fillScale==strokeScale){\n        stroke.a=0.;\n    }\n    //gl_PointSize = size+2.;\n    dp = 1.0/(size+1.);\n    sizeNormalizer = (size+1.)/(size);\n\n    vec4 p = vec4(vertexScale*vertexPosition-vertexOffset, 0.5, 1.);\n    if (size==0. || (stroke.a==0. && color.a==0.)){\n        p.x=10000.;\n    }\n    gl_Position  = p;\n}";t.FS="\nprecision highp float;\n\nvarying lowp vec4 color;\nvarying lowp vec4 stroke;\nvarying highp float dp;\nvarying highp float sizeNormalizer;\nvarying highp float fillScale;\nvarying highp float strokeScale;\n\nfloat distanceAntialias(vec2 p){\n    return 1. - smoothstep(1.-dp*1.4142, 1.+dp*1.4142, length(p));\n}\n\n\nvoid main(void) {\n    vec2 p = vec2(0.);//(2.*gl_PointCoord-vec2(1.))*sizeNormalizer;\n    vec4 c = color;\n\n    vec4 s = stroke;\n\n    c.a *= distanceAntialias(p*fillScale);\n    c.rgb*=c.a;\n\n    s.a *= distanceAntialias(p);\n    s.a *= 1.-distanceAntialias((strokeScale)*p);\n    s.rgb*=s.a;\n\n    c=s+(1.-s.a)*c;\n\n    gl_FragColor = c;\n}"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VS="\n\nprecision highp float;\n\nattribute vec2 vertexPosition;\nattribute vec2 featureID;\nattribute vec2 normal;\n\nuniform vec2 vertexScale;\nuniform vec2 vertexOffset;\n\nuniform sampler2D colorTex;\nuniform sampler2D widthTex;\nuniform sampler2D colorStrokeTex;\nuniform sampler2D strokeWidthTex;\n\nvarying lowp vec4 color;\n\nvoid main(void) {\n    color = texture2D(colorTex, featureID);\n    float size = 64.*texture2D(widthTex, featureID).a;\n\n    vec4 p = vec4(vertexScale*(vertexPosition)+normal*0.001*size-vertexOffset, 0.5, 1.);\n    if (size==0. || color.a==0.){\n        p.x=10000.;\n    }\n    gl_Position  = p;\n}";t.FS="\nprecision highp float;\n\nvarying lowp vec4 color;\n\nvoid main(void) {\n    gl_FragColor = color;\n}"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VS="\n\nprecision highp float;\nattribute vec2 vertex;\n\nvarying  vec2 uv;\n\nvoid main(void) {\n    uv = vertex*0.5+vec2(0.5);\n    gl_Position = vec4(vertex, 0.5, 1.);\n}\n";t.FS="\n\nprecision highp float;\n\nvarying  vec2 uv;\n\n$PREFACE\n\nuniform sampler2D property0;\nuniform sampler2D property1;\nuniform sampler2D property2;\nuniform sampler2D property3;\n\nvoid main(void) {\n    float p0=texture2D(property0, uv).a;\n    float p1=texture2D(property1, uv).a;\n    float p2=texture2D(property2, uv).a;\n    float p3=texture2D(property3, uv).a;\n    gl_FragColor = $INLINE;\n}\n"},function(e,t,r){"use strict";function n(e,t,r){r=r||2;var n,f,s,c,u,d,b,g=t&&t.length,v=g?t[0]*r:e.length,y=i(e,0,v,r,!0),m=[];if(!y)return m;if(g&&(y=function(e,t,r,n){var o,f,s,c,u,d=[];for(o=0,f=t.length;o<f;o++)s=t[o]*n,c=o<f-1?t[o+1]*n:e.length,(u=i(e,s,c,n,!1))===u.next&&(u.steiner=!0),d.push(p(u));for(d.sort(l),o=0;o<d.length;o++)h(d[o],r),r=a(r,r.next);return r}(e,t,y,r)),e.length>80*r){n=s=e[0],f=c=e[1];for(var _=r;_<v;_+=r)(u=e[_])<n&&(n=u),(d=e[_+1])<f&&(f=d),u>s&&(s=u),d>c&&(c=d);b=0!==(b=Math.max(s-n,c-f))?1/b:0}return o(y,m,r,n,f,b),m}function i(e,t,r,n,i){var a,o;if(i===S(e,t,r,n)>0)for(a=t;a<r;a+=n)o=w(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=w(a,e[a],e[a+1],o);return o&&y(o,o.next)&&(E(o),o=o.next),o}function a(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!y(n,n.next)&&0!==v(n.prev,n,n.next))n=n.next;else{if(E(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function o(e,t,r,n,i,l,h){if(e){!h&&l&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=d(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,a,o,f,s,c=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,f=0,t=0;t<c&&(f++,n=n.nextZ);t++);for(s=c;f>0||s>0&&n;)0!==f&&(0===s||!n||r.z<=n.z)?(i=r,r=r.nextZ,f--):(i=n,n=n.nextZ,s--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,c*=2}while(o>1)}(i)}(e,n,i,l);for(var p,b,g=e;e.prev!==e.next;)if(p=e.prev,b=e.next,l?s(e,n,i,l):f(e))t.push(p.i/r),t.push(e.i/r),t.push(b.i/r),E(e),e=b.next,g=b.next;else if((e=b)===g){h?1===h?o(e=c(e,t,r),t,r,n,i,l,2):2===h&&u(e,t,r,n,i,l):o(a(e),t,r,n,i,l,1);break}}}function f(e){var t=e.prev,r=e,n=e.next;if(v(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(b(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function s(e,t,r,n){var i=e.prev,a=e,o=e.next;if(v(i,a,o)>=0)return!1;for(var f=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,s=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,l=d(f,s,t,r,n),h=d(c,u,t,r,n),p=e.prevZ,g=e.nextZ;p&&p.z>=l&&g&&g.z<=h;){if(p!==e.prev&&p!==e.next&&b(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&v(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,g!==e.prev&&g!==e.next&&b(i.x,i.y,a.x,a.y,o.x,o.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;p&&p.z>=l;){if(p!==e.prev&&p!==e.next&&b(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&v(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=h;){if(g!==e.prev&&g!==e.next&&b(i.x,i.y,a.x,a.y,o.x,o.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function c(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!y(i,a)&&m(i,n,n.next,a)&&_(i,a)&&_(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),E(n),E(n.next),n=e=a),n=n.next}while(n!==e);return n}function u(e,t,r,n,i,f){var s=e;do{for(var c=s.next.next;c!==s.prev;){if(s.i!==c.i&&g(s,c)){var u=x(s,c);return s=a(s,s.next),u=a(u,u.next),o(s,t,r,n,i,f),void o(u,t,r,n,i,f)}c=c.next}s=s.next}while(s!==e)}function l(e,t){return e.x-t.x}function h(e,t){if(t=function(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var f=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=i&&f>o){if(o=f,f===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===o)return r.prev;var s,c=r,u=r.x,l=r.y,h=1/0;n=r.next;for(;n!==c;)i>=n.x&&n.x>=u&&i!==n.x&&b(a<l?i:o,a,u,l,a<l?o:i,a,n.x,n.y)&&((s=Math.abs(a-n.y)/(i-n.x))<h||s===h&&n.x>r.x)&&_(n,e)&&(r=n,h=s),n=n.next;return r}(e,t)){var r=x(t,e);a(r,r.next)}}function d(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,r=e;do{t.x<r.x&&(r=t),t=t.next}while(t!==e);return r}function b(e,t,r,n,i,a,o,f){return(i-o)*(t-f)-(e-o)*(a-f)>=0&&(e-o)*(n-f)-(r-o)*(t-f)>=0&&(r-o)*(a-f)-(i-o)*(n-f)>=0}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&m(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&_(e,t)&&_(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)}function v(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function m(e,t,r,n){return!!(y(e,t)&&y(r,n)||y(e,n)&&y(r,t))||v(e,t,r)>0!=v(e,t,n)>0&&v(r,n,e)>0!=v(r,n,t)>0}function _(e,t){return v(e.prev,e,e.next)<0?v(e,t,e.next)>=0&&v(e,e.prev,t)>=0:v(e,t,e.prev)<0||v(e,e.next,t)<0}function x(e,t){var r=new A(e.i,e.x,e.y),n=new A(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function w(e,t,r,n){var i=new A(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function A(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}e.exports=n,e.exports.default=n,n.deviation=function(e,t,r,n){var i=t&&t.length,a=i?t[0]*r:e.length,o=Math.abs(S(e,0,a,r));if(i)for(var f=0,s=t.length;f<s;f++){var c=t[f]*r,u=f<s-1?t[f+1]*r:e.length;o-=Math.abs(S(e,c,u,r))}var l=0;for(f=0;f<n.length;f+=3){var h=n[f]*r,d=n[f+1]*r,p=n[f+2]*r;l+=Math.abs((e[h]-e[p])*(e[d+1]-e[h+1])-(e[h]-e[d])*(e[p+1]-e[h+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},n.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)r.vertices.push(e[i][a][o]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r}},function(e,t,r){"use strict";t.a=class{constructor(e,t,r,n){this.center=e,this.scale=t,this.geom=r,this.properties=n}free(){if(this.propertyTex){const e=this.renderer.gl;this.propertyTex.map(t=>e.deleteTexture(t)),e.deleteTexture(this.texColor),e.deleteTexture(this.texStrokeColor),e.deleteTexture(this.texWidth),e.deleteTexture(this.texStrokeWidth),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.featureIDBuffer),this.texColor="freed",this.texStrokeColor="freed",this.texStrokeWidth="freed",this.vertexBuffer="freed",this.featureIDBuffer="freed",this.propertyTex=null}}}},function(e,t,r){"use strict";function n(e){return function(e,t){const[r,n,i,a]=t,o=1<<e,f=e=>Math.min(Math.max(e,0),o-1),s=f(Math.floor(o*(r+1)*.5)),c=f(Math.ceil(o*(i+1)*.5)-1),u=f(Math.floor(o*(1-a)*.5)),l=f(Math.ceil(o*(1-n)*.5)-1);let h=[];for(let t=s;t<=c;++t)for(let r=u;r<=l;++r)h.push({x:t,y:r,z:e});return h}((t=(e[3]-e[1])/2,Math.ceil(Math.log2(1/t))),e);var t}function i(e,t,r){return{center:{x:(e+.5)/Math.pow(2,r)*2-1,y:2*(1-(t+.5)/Math.pow(2,r))-1},scale:1/Math.pow(2,r)}}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i})},function(e,t,r){"use strict";e.exports=i;var n=r(58);function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;function a(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function o(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function f(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function s(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function c(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function u(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function l(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function h(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function d(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function p(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function b(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function g(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function v(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function y(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function m(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,a=this.pos;this.type=7&n,e(i,t,this),this.pos===a&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=v(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=m(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=v(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=v(this.buf,this.pos)+4294967296*m(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,a=r.buf;if(i=a[r.pos++],n=(112&i)>>4,i<128)return o(e,n,t);if(i=a[r.pos++],n|=(127&i)<<3,i<128)return o(e,n,t);if(i=a[r.pos++],n|=(127&i)<<10,i<128)return o(e,n,t);if(i=a[r.pos++],n|=(127&i)<<17,i<128)return o(e,n,t);if(i=a[r.pos++],n|=(127&i)<<24,i<128)return o(e,n,t);if(i=a[r.pos++],n|=(1&i)<<31,i<128)return o(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,r){var n="",i=t;for(;i<r;){var a,o,f,s=e[i],c=null,u=s>239?4:s>223?3:s>191?2:1;if(i+u>r)break;1===u?s<128&&(c=s):2===u?128==(192&(a=e[i+1]))&&(c=(31&s)<<6|63&a)<=127&&(c=null):3===u?(a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&((c=(15&s)<<12|(63&a)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[i+1],o=e[i+2],f=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&f)&&((c=(15&s)<<18|(63&a)<<12|(63&o)<<6|63&f)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),i+=u}return n}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var r=a(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),y(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),y(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),y(this.buf,-1&e,this.pos),y(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),y(this.buf,-1&e,this.pos),y(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}(r,0,t),function(e,t){var r=(7&e)<<4;if(t.buf[t.pos++]|=r|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,a=0;a<t.length;a++){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){n>56319||a+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&f(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),n.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),n.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&f(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,i.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){this.writeMessage(e,s,t)},writePackedSVarint:function(e,t){this.writeMessage(e,c,t)},writePackedBoolean:function(e,t){this.writeMessage(e,h,t)},writePackedFloat:function(e,t){this.writeMessage(e,u,t)},writePackedDouble:function(e,t){this.writeMessage(e,l,t)},writePackedFixed32:function(e,t){this.writeMessage(e,d,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,p,t)},writePackedFixed64:function(e,t){this.writeMessage(e,b,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,g,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},function(e,t){t.read=function(e,t,r,n,i){var a,o,f=8*i-n-1,s=(1<<f)-1,c=s>>1,u=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,a=d&(1<<-u)-1,d>>=-u,u+=f;u>0;a=256*a+e[t+l],l+=h,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+l],l+=h,u-=8);if(0===a)a=1-c;else{if(a===s)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=c}return(d?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,f,s,c=8*a-i-1,u=(1<<c)-1,l=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-o))<1&&(o--,s*=2),(t+=o+l>=1?h/s:h*Math.pow(2,1-l))*s>=2&&(o++,s/=2),o+l>=u?(f=0,o=u):o+l>=1?(f=(t*s-1)*Math.pow(2,i),o+=l):(f=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&f,d+=p,f/=256,i-=8);for(o=o<<i|f,c+=i;c>0;e[r+d]=255&o,d+=p,o/=256,c-=8);e[r+d-p]|=128*b}},function(e,t,r){"use strict";e.exports=v;var n,i=r(60),a=r(62),o=r(65),f=(n="function"==typeof Symbol?function(e){return Symbol.for(e)}:function(e){return"_"+e})("max"),s=n("length"),c=n("lengthCalculator"),u=n("allowStale"),l=n("maxAge"),h=n("dispose"),d=n("noDisposeOnSet"),p=n("lruList"),b=n("cache");function g(){return 1}function v(e){if(!(this instanceof v))return new v(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=this[f]=e.max;(!t||"number"!=typeof t||t<=0)&&(this[f]=1/0);var r=e.length||g;"function"!=typeof r&&(r=g),this[c]=r,this[u]=e.stale||!1,this[l]=e.maxAge||0,this[h]=e.dispose,this[d]=e.noDisposeOnSet||!1,this.reset()}function y(e,t,r,n){var i=r.value;_(e,i)&&(w(e,r),e[u]||(i=void 0)),i&&t.call(n,i.value,i.key,e)}function m(e,t,r){var n=e[b].get(t);if(n){var i=n.value;_(e,i)?(w(e,n),e[u]||(i=void 0)):r&&e[p].unshiftNode(n),i&&(i=i.value)}return i}function _(e,t){if(!t||!t.maxAge&&!e[l])return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]}function x(e){if(e[s]>e[f])for(var t=e[p].tail;e[s]>e[f]&&null!==t;){var r=t.prev;w(e,t),t=r}}function w(e,t){if(t){var r=t.value;e[h]&&e[h](r.key,r.value),e[s]-=r.length,e[b].delete(r.key),e[p].removeNode(t)}}Object.defineProperty(v.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),this[f]=e,x(this)},get:function(){return this[f]},enumerable:!0}),Object.defineProperty(v.prototype,"allowStale",{set:function(e){this[u]=!!e},get:function(){return this[u]},enumerable:!0}),Object.defineProperty(v.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),this[l]=e,x(this)},get:function(){return this[l]},enumerable:!0}),Object.defineProperty(v.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=g),e!==this[c]&&(this[c]=e,this[s]=0,this[p].forEach(function(e){e.length=this[c](e.value,e.key),this[s]+=e.length},this)),x(this)},get:function(){return this[c]},enumerable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this[s]},enumerable:!0}),Object.defineProperty(v.prototype,"itemCount",{get:function(){return this[p].length},enumerable:!0}),v.prototype.rforEach=function(e,t){t=t||this;for(var r=this[p].tail;null!==r;){var n=r.prev;y(this,e,r,t),r=n}},v.prototype.forEach=function(e,t){t=t||this;for(var r=this[p].head;null!==r;){var n=r.next;y(this,e,r,t),r=n}},v.prototype.keys=function(){return this[p].toArray().map(function(e){return e.key},this)},v.prototype.values=function(){return this[p].toArray().map(function(e){return e.value},this)},v.prototype.reset=function(){this[h]&&this[p]&&this[p].length&&this[p].forEach(function(e){this[h](e.key,e.value)},this),this[b]=new i,this[p]=new o,this[s]=0},v.prototype.dump=function(){return this[p].map(function(e){if(!_(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}},this).toArray().filter(function(e){return e})},v.prototype.dumpLru=function(){return this[p]},v.prototype.inspect=function(e,t){var r="LRUCache {",n=!1;this[u]&&(r+="\n  allowStale: true",n=!0);var i=this[f];i&&i!==1/0&&(n&&(r+=","),r+="\n  max: "+a.inspect(i,t),n=!0);var o=this[l];o&&(n&&(r+=","),r+="\n  maxAge: "+a.inspect(o,t),n=!0);var h=this[c];h&&h!==g&&(n&&(r+=","),r+="\n  length: "+a.inspect(this[s],t),n=!0);var d=!1;return this[p].forEach(function(e){d?r+=",\n  ":(n&&(r+=",\n"),d=!0,r+="\n  ");var i=a.inspect(e.key).split("\n").join("\n  "),f={value:e.value};e.maxAge!==o&&(f.maxAge=e.maxAge),h!==g&&(f.length=e.length),_(this,e)&&(f.stale=!0),f=a.inspect(f,t).split("\n").join("\n  "),r+=i+" => "+f}),(d||n)&&(r+="\n"),r+="}"},v.prototype.set=function(e,t,r){var n=(r=r||this[l])?Date.now():0,i=this[c](t,e);if(this[b].has(e)){if(i>this[f])return w(this,this[b].get(e)),!1;var a=this[b].get(e).value;return this[h]&&(this[d]||this[h](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[s]+=i-a.length,a.length=i,this.get(e),x(this),!0}var o=new function(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}(e,t,i,n,r);return o.length>this[f]?(this[h]&&this[h](e,t),!1):(this[s]+=o.length,this[p].unshift(o),this[b].set(e,this[p].head),x(this),!0)},v.prototype.has=function(e){return!!this[b].has(e)&&!_(this,this[b].get(e).value)},v.prototype.get=function(e){return m(this,e,!0)},v.prototype.peek=function(e){return m(this,e,!1)},v.prototype.pop=function(){var e=this[p].tail;return e?(w(this,e),e.value):null},v.prototype.del=function(e){w(this,this[b].get(e))},v.prototype.load=function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var a=i-t;a>0&&this.set(n.k,n.v,a)}}},v.prototype.prune=function(){var e=this;this[b].forEach(function(t,r){m(e,r,!1)})}},function(e,t,r){(function(t){"pseudomap"===t.env.npm_package_name&&"test"===t.env.npm_lifecycle_script&&(t.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||t.env.TEST_PSEUDOMAP?e.exports=r(61):e.exports=Map}).call(t,r(15))},function(e,t){var r=Object.prototype.hasOwnProperty;function n(e){if(!(this instanceof n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof n||"function"==typeof Map&&e instanceof Map)e.forEach(function(e,t){this.set(t,e)},this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach(function(e){this.set(e[0],e[1])},this)}}function i(e,t){return e===t||e!=e&&t!=t}function a(e,t){for(var n=0,a="_"+t,o=a;r.call(e,o);o=a+n++)if(i(e[o].key,t))return e[o]}e.exports=n,n.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach(function(r){"size"!==r&&e.call(t,this._data[r].value,this._data[r].key)},this)},n.prototype.has=function(e){return!!a(this._data,e)},n.prototype.get=function(e){var t=a(this._data,e);return t&&t.value},n.prototype.set=function(e,t){!function(e,t,n){for(var a=0,o="_"+t,f=o;r.call(e,f);f=o+a++)if(i(e[f].key,t))return void(e[f].value=n);e.size++,e[f]=new function(e,t,r){this.key=e,this.value=t,this._index=r}(t,n,f)}(this._data,e,t)},n.prototype.delete=function(e){var t=a(this._data,e);t&&(delete this._data[t._index],this._data.size--)},n.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(n.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.values=n.prototype.keys=n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(e,t,r){(function(e,n){var i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(f(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<a;s=n[++r])b(s)||!_(s)?o+=" "+s:o+=" "+f(s);return o},t.deprecate=function(r,i){if(y(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),a=!0}return r.apply(this,arguments)}};var a,o={};function f(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),u(n,e,n.depth)}function s(e,t){var r=f.styles[t];return r?"["+f.colors[r][0]+"m"+e+"["+f.colors[r][1]+"m":e}function c(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=u(e,i,n)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(e,r);if(a)return a;var o=Object.keys(r),f=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),w(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l(r);if(0===o.length){if(E(r)){var s=r.name?": "+r.name:"";return e.stylize("[Function"+s+"]","special")}if(m(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return l(r)}var c,_="",A=!1,S=["{","}"];(d(r)&&(A=!0,S=["[","]"]),E(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return m(r)&&(_=" "+RegExp.prototype.toString.call(r)),x(r)&&(_=" "+Date.prototype.toUTCString.call(r)),w(r)&&(_=" "+l(r)),0!==o.length||A&&0!=r.length?n<0?m(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=A?function(e,t,r,n,i){for(var a=[],o=0,f=t.length;o<f;++o)T(t,String(o))?a.push(h(e,t,r,n,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(h(e,t,r,n,i,!0))}),a}(e,r,n,f,o):o.map(function(t){return h(e,r,n,f,t,A)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,_,S)):S[0]+_+S[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,a){var o,f,s;if((s=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?f=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(f=e.stylize("[Setter]","special")),T(n,i)||(o="["+i+"]"),f||(e.seen.indexOf(s.value)<0?(f=b(r)?u(e,s.value,null):u(e,s.value,r-1)).indexOf("\n")>-1&&(f=a?f.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+f.split("\n").map(function(e){return"   "+e}).join("\n")):f=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return f;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+f}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function b(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function m(e){return _(e)&&"[object RegExp]"===A(e)}function _(e){return"object"==typeof e&&null!==e}function x(e){return _(e)&&"[object Date]"===A(e)}function w(e){return _(e)&&("[object Error]"===A(e)||e instanceof Error)}function E(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else o[e]=function(){};return o[e]},t.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=b,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=m,t.isObject=_,t.isDate=x,t.isError=w,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(63);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(64),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(12),r(15))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function n(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},r.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},r.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},r.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;null!==a&&i<e;i++)a=a.next;for(;null!==a&&i<t;i++,a=a.next)n.push(a.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;null!==a&&i>t;i--)a=a.prev;for(;null!==a&&i>e;i--,a=a.prev)n.push(a.value);return n},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this}},function(e,t,r){e.exports.VectorTile=r(67),e.exports.VectorTileFeature=r(17),e.exports.VectorTileLayer=r(16)},function(e,t,r){"use strict";var n=r(16);function i(e,t,r){if(3===e){var i=new n(r,r.readVarint()+r.pos);i.length&&(t[i.name]=i)}}e.exports=function(e,t){this.layers=e.readFields(i,{},t)}},function(e,t,r){"use strict";function n(e,t){this.x=e,this.y=t}e.exports=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,i=r*this.x+t*this.y;return this.x=n,this.y=i,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.x+r*(this.x-t.x)-n*(this.y-t.y),a=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(e){return e instanceof n?e:Array.isArray(e)?new n(e[0],e[1]):e}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(70);const i="unexpected error",a="generic";class o extends Error{constructor(e){super(e&&e.message||i),this.name="CartoError",this.originalError=e,this.type=e&&e.type||"",this.origin=e&&e.origin||a;var t=this._getExtraFields();this.message=t.friendlyMessage}_getExtraFields(){const e=this._getErrorList();for(let t in e){const r=e[t];if(!(r.messageRegex instanceof RegExp))throw new Error(`MessageRegex on ${t} is not a RegExp.`);if(r.messageRegex.test(this.message))return{friendlyMessage:this._replaceRegex(r)}}return{friendlyMessage:this.message||""}}_getErrorList(){return n[this.origin]&&n[this.origin][this.type]}_replaceRegex(e){if(!e.friendlyMessage)return this.message;var t=this.message&&this.message.match(e.messageRegex);return t&&t.length>1?e.friendlyMessage.replace("$0",t[1]):e.friendlyMessage}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"validation",function(){return n});const n={layer:{"id-required":{messageRegex:/idRequired/,friendlyMessage:"`id` property required."},"id-string-required":{messageRegex:/idStringRequired/,friendlyMessage:"`id` property must be a string."},"non-valid-id":{messageRegex:/nonValidId/,friendlyMessage:"`id` property must be not empty."},"source-required":{messageRegex:/sourceRequired/,friendlyMessage:"`source` property required."},"non-valid-source":{messageRegex:/nonValidSource/,friendlyMessage:'The given object is not a valid source. See "carto.source.Base".'},"style-required":{messageRegex:/styleRequired/,friendlyMessage:"`style` property required."},"non-valid-style":{messageRegex:/nonValidStyle/,friendlyMessage:'The given object is not a valid style. See "carto.Style".'}},setup:{"auth-required":{messageRegex:/authRequired/,friendlyMessage:"`auth` property is required."},"auth-object-required":{messageRegex:/authObjectRequired/,friendlyMessage:"`auth` property must be an object."},"api-key-required":{messageRegex:/apiKeyRequired/,friendlyMessage:"`apiKey` property is required."},"api-key-string-required":{messageRegex:/apiKeyStringRequired/,friendlyMessage:"`apiKey` property must be a string."},"non-valid-api-key":{messageRegex:/nonValidApiKey/,friendlyMessage:"`apiKey` property must be not empty."},"username-required":{messageRegex:/usernameRequired/,friendlyMessage:"`username` property is required."},"username-string-required":{messageRegex:/usernameStringRequired/,friendlyMessage:"`username` property must be a string."},"non-valid-username":{messageRegex:/nonValidUsername/,friendlyMessage:"`username` property must be not empty."},"config-object-required":{messageRegex:/configObjectRequired/,friendlyMessage:"`config` property must be an object."},"server-url-string-required":{messageRegex:/serverURLStringRequired/,friendlyMessage:"`serverURL` property must be a string."}},source:{"non-valid-server-url":{messageRegex:/nonValidServerURL/,friendlyMessage:"`serverURL` property is not a valid URL."},"table-name-required":{messageRegex:/tableNameRequired/,friendlyMessage:"`tableName` property is required."},"table-name-string-required":{messageRegex:/tableNameStringRequired$/,friendlyMessage:"`tableName` property must be a string."},"non-valid-table-name":{messageRegex:/nonValidTableName$/,friendlyMessage:"`tableName` property must be not empty."},"query-required":{messageRegex:/queryRequired/,friendlyMessage:"`query` property is required."},"query-string-required":{messageRegex:/queryStringRequired$/,friendlyMessage:"`query` property must be a string."},"non-valid-query":{messageRegex:/nonValidQuery$/,friendlyMessage:"`query` property must be not empty."},"non-valid-sql-query":{messageRegex:/nonValidSQLQuery$/,friendlyMessage:"`query` property must be a SQL query."}},style:{"non-valid-definition":{messageRegex:/nonValidDefinition$/,friendlyMessage:"style definition should be a styleSpec object or a valid style string."},"non-valid-expression":{messageRegex:/nonValidExpression\[(.+)\]$/,friendlyMessage:"`$0` parameter is not a valid style Expresion."},"resolution-number-required":{messageRegex:/resolutionNumberRequired$/,friendlyMessage:"`resolution` must be a number."}}}},function(e,t,r){"use strict";var n=r(6),i=(r.n(n),r(9)),a=r(20),o=r(75),f=r(5);t.a=class{constructor(e,t,r){this._checkId(e),this._checkSource(t),this._checkStyle(r),this._lastViewport=null,this._lastMNS=null,this._mglIntegrator=null,this._dataframes=[],this._id=e,this.setSource(t),this.setStyle(r),console.log("L",this)}setSource(e){this._checkSource(e),e.bindLayer(e=>{this._dataframes.push(e),this._mglIntegrator.renderer.addDataframe(e),this._mglIntegrator.invalidateMGLWebGLState()},e=>{this._dataframes=this._dataframes.filter(t=>t!==e),this._mglIntegrator.renderer.removeDataframe(e),this._mglIntegrator.invalidateMGLWebGLState()}),this._source&&this._source!==e&&this._source.free(),this._source=e}setStyle(e){this._checkStyle(e),this._style&&this._style.onChange(null),this._style=e,this._style.onChange(this._styleChanged.bind(this)),this._styleChanged()}addTo(e,t){if(!this._isMGLMap(e))throw new Error("layer","nonValidMap");this._addToMGLMap(e,t)}_isMGLMap(){return!0}_addToMGLMap(e,t){e.on("load",()=>{this._mglIntegrator=Object(o.a)(e),this._mglIntegrator.addLayer(this._id,t,this._getData.bind(this),()=>{this._dataframes.map(e=>{e.setStyle(this._style),e.visible=e.active}),this._mglIntegrator.renderer.refresh(Number.NaN),this._dataframes.map(e=>{e.visible=!1})})})}_styleChanged(){if(!this._mglIntegrator||!this._mglIntegrator.invalidateMGLWebGLState)return;this._getData();const e=this.metadataPromise;this.metadataPromise.then(t=>{e==this.metadataPromise&&(this._style._compileColorShader(this._mglIntegrator.renderer.gl,t),this._style._compileWidthShader(this._mglIntegrator.renderer.gl,t),this._style._compileStrokeColorShader(this._mglIntegrator.renderer.gl,t),this._style._compileStrokeWidthShader(this._mglIntegrator.renderer.gl,t))})}_checkId(e){if(n.isUndefined(e))throw new f.a("layer","idRequired");if(!n.isString(e))throw new f.a("layer","idStringRequired");if(n.isEmpty(e))throw new f.a("layer","nonValidId")}_checkSource(e){if(n.isUndefined(e))throw new f.a("layer","sourceRequired");if(!(e instanceof i.a))throw new f.a("layer","nonValidSource")}_checkStyle(e){if(n.isUndefined(e))throw new f.a("layer","styleRequired");if(!(e instanceof a.a))throw new f.a("layer","nonValidStyle")}_getViewport(){if(this._mglIntegrator)return this._mglIntegrator.renderer.getBounds();throw new Error("?")}_getData(){if(!this._mglIntegrator.invalidateMGLWebGLState)return;const e=this._source.requestData(this._getViewport(),this._style.getMinimumNeededSchema(),this._style.getResolution());e&&(this.metadataPromise=e,e.then(()=>this._styleChanged()))}getNumFeatures(){return this._dataframes.filter(e=>e.active).map(e=>e.numFeatures).reduce((e,t)=>e+t,0)}}},function(e,t,r){"use strict";t.a=function(e,t,r){let i=0,a={},o=null;const f=t._applyToShaderSource(()=>i++,e=>void 0!==a[e]?a[e]:(a[e]=Object.keys(a).length,a[e]));n[JSON.stringify(f)]?o=n[JSON.stringify(f)]:(o=r(e,f.preface,f.inline),n[JSON.stringify(f)]=o);return t._postShaderCompile(o.program,e),{tid:a,shader:o}};const n={}},function(e,t,r){"use strict";t.a=function(e){i.a.addBinaryOp(":",1),i.a.addBinaryOp("^",10);const t=i()(e);let r={};"Compound"==t.type?t.body.map(e=>c(r,e)):c(r,t);return i.a.removeBinaryOp("^"),i.a.removeBinaryOp(":"),r};var n=r(74),i=r.n(n),a=r(1),o=r(2);const f=[];var s={};function c(e,t){if(":"!=t.operator)throw new Error("Invalid syntax");const r=t.left.name;if(!r)throw new Error("Invalid syntax");const n=u(t.right);e[r]="resolution"==r?n:Object(o.b)(n)}function u(e){if("CallExpression"==e.type){const t=e.callee.name.toLowerCase();if(f.includes(t)){return e.arguments.map(e=>u(e))[0]}const r=e.arguments.map(e=>u(e));if(s[t])return s[t](...r);throw new Error(`Invalid function name '${e.callee.name}'`)}if("Literal"==e.type)return e.value;if("ArrayExpression"==e.type)return e.elements.map(e=>u(e));if("BinaryExpression"==e.type){const t=u(e.left),r=u(e.right);switch(e.operator){case"*":return a.floatMul(t,r);case"/":return a.floatDiv(t,r);case"+":return a.floatAdd(t,r);case"-":return a.floatSub(t,r);case"%":return a.floatMod(t,r);case"^":return a.floatPow(t,r);default:throw new Error(`Invalid binary operator '${e.operator}'`)}}else if("UnaryExpression"==e.type)switch(e.operator){case"-":return a.floatMul(-1,u(e.argument));case"+":return u(e.argument);default:throw new Error(`Invalid unary operator '${e.operator}'`)}else if("Identifier"==e.type){if("$"==e.name[0])return a.property(e.name.substring(1));if(a.palettes[e.name.toLowerCase()])return a.palettes[e.name.toLowerCase()]();if(s[e.name.toLowerCase()])return s[e.name.toLowerCase()]}throw new Error(`Invalid expression '${JSON.stringify(e)}'`)}Object.keys(a).filter(e=>e[0]==e[0].toLowerCase()).map(e=>{s[e.toLocaleLowerCase()]=a[e]})},function(e,t,r){!function(r){"use strict";var n=function(e,t){var r=new Error(e+" at character "+t);throw r.index=t,r.description=e,r},i={"-":!0,"!":!0,"~":!0,"+":!0},a={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},o=function(e){var t,r=0;for(var n in e)(t=n.length)>r&&e.hasOwnProperty(n)&&(r=t);return r},f=o(i),s=o(a),c={true:!0,false:!1,null:null},u=function(e){return a[e]||0},l=function(e,t,r){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:t,right:r}},h=function(e){return e>=48&&e<=57},d=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!a[String.fromCharCode(e)]},p=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!a[String.fromCharCode(e)]},b=function(e){for(var t,r,o=0,b=e.charAt,g=e.charCodeAt,v=function(t){return b.call(e,t)},y=function(t){return g.call(e,t)},m=e.length,_=function(){for(var e=y(o);32===e||9===e||10===e||13===e;)e=y(++o)},x=function(){var e,t,r=E();return _(),63!==y(o)?r:(o++,(e=x())||n("Expected expression",o),_(),58===y(o)?(o++,(t=x())||n("Expected expression",o),{type:"ConditionalExpression",test:r,consequent:e,alternate:t}):void n("Expected :",o))},w=function(){_();for(var t=e.substr(o,s),r=t.length;r>0;){if(a.hasOwnProperty(t))return o+=r,t;t=t.substr(0,--r)}return!1},E=function(){var e,t,r,i,a,f,s,c;if(f=A(),!(t=w()))return f;for(a={value:t,prec:u(t)},(s=A())||n("Expected expression after "+t,o),i=[f,a,s];(t=w())&&0!==(r=u(t));){for(a={value:t,prec:r};i.length>2&&r<=i[i.length-2].prec;)s=i.pop(),t=i.pop().value,f=i.pop(),e=l(t,f,s),i.push(e);(e=A())||n("Expected expression after "+t,o),i.push(a,e)}for(e=i[c=i.length-1];c>1;)e=l(i[c-1].value,i[c-2],e),c-=2;return e},A=function(){var t,r,n;if(_(),t=y(o),h(t)||46===t)return S();if(39===t||34===t)return C();if(91===t)return B();for(n=(r=e.substr(o,f)).length;n>0;){if(i.hasOwnProperty(r))return o+=n,{type:"UnaryExpression",operator:r,argument:A(),prefix:!0};r=r.substr(0,--n)}return!(!d(t)&&40!==t)&&F()},S=function(){for(var e,t,r="";h(y(o));)r+=v(o++);if(46===y(o))for(r+=v(o++);h(y(o));)r+=v(o++);if("e"===(e=v(o))||"E"===e){for(r+=v(o++),"+"!==(e=v(o))&&"-"!==e||(r+=v(o++));h(y(o));)r+=v(o++);h(y(o-1))||n("Expected exponent ("+r+v(o)+")",o)}return t=y(o),d(t)?n("Variable names cannot start with a number ("+r+v(o)+")",o):46===t&&n("Unexpected period",o),{type:"Literal",value:parseFloat(r),raw:r}},C=function(){for(var e,t="",r=v(o++),i=!1;o<m;){if((e=v(o++))===r){i=!0;break}if("\\"===e)switch(e=v(o++)){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=e}else t+=e}return i||n('Unclosed quote after "'+t+'"',o),{type:"Literal",value:t,raw:r+t+r}},T=function(){var t,r=y(o),i=o;for(d(r)?o++:n("Unexpected "+v(o),o);o<m&&(r=y(o),p(r));)o++;return t=e.slice(i,o),c.hasOwnProperty(t)?{type:"Literal",value:c[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}},D=function(e){for(var t,r,i=[],a=!1;o<m;){if(_(),(t=y(o))===e){a=!0,o++;break}44===t?o++:((r=x())&&"Compound"!==r.type||n("Expected comma",o),i.push(r))}return a||n("Expected "+String.fromCharCode(e),o),i},F=function(){var e,t;for(t=40===(e=y(o))?R():T(),_(),e=y(o);46===e||91===e||40===e;)o++,46===e?(_(),t={type:"MemberExpression",computed:!1,object:t,property:T()}):91===e?(t={type:"MemberExpression",computed:!0,object:t,property:x()},_(),93!==(e=y(o))&&n("Unclosed [",o),o++):40===e&&(t={type:"CallExpression",arguments:D(41),callee:t}),_(),e=y(o);return t},R=function(){o++;var e=x();if(_(),41===y(o))return o++,e;n("Unclosed (",o)},B=function(){return o++,{type:"ArrayExpression",elements:D(93)}},k=[];o<m;)59===(t=y(o))||44===t?o++:(r=x())?k.push(r):o<m&&n('Unexpected "'+v(o)+'"',o);return 1===k.length?k[0]:{type:"Compound",body:k}};b.version="0.3.3",b.toString=function(){return"JavaScript Expression Parser (JSEP) v"+b.version},b.addUnaryOp=function(e){return f=Math.max(e.length,f),i[e]=!0,this},b.addBinaryOp=function(e,t){return s=Math.max(e.length,s),a[e]=t,this},b.addLiteral=function(e,t){return c[e]=t,this},b.removeUnaryOp=function(e){return delete i[e],e.length===f&&(f=o(i)),this},b.removeAllUnaryOps=function(){return i={},f=0,this},b.removeBinaryOp=function(e){return delete a[e],e.length===s&&(s=o(a)),this},b.removeAllBinaryOps=function(){return a={},s=0,this},b.removeLiteral=function(e){return delete c[e],this},b.removeAllLiterals=function(){return c={},this},void 0!==e&&e.exports?t=e.exports=b:t.parse=b}()},function(e,t,r){"use strict";t.a=function(e){if(c)return c;return c||new u(e)};var n=r(13);const i=Math.PI/180,a=6378137,o=a*Math.PI,f=2*o;let s=0,c=null;class u{constructor(e){this.renderer=new n.b,this.map=e,this.invalidateMGLWebGLState=null,e.on("movestart",this.move.bind(this)),e.on("move",this.move.bind(this)),e.on("moveend",this.move.bind(this)),e.on("resize",this.move.bind(this)),this.moveObservers={},this._layers=[]}_registerMoveObserver(e,t){this.moveObservers[e]=t}_unregisterMoveObserver(e){delete this.moveObservers[e]}addLayer(e,t,r,n){const i=`_cartoGL_${s++}`;this._registerMoveObserver(i,r),this.map.repaint=!0,this.map.setCustomWebGLDrawCallback(e,(e,t)=>{this.invalidateMGLWebGLState||(this.invalidateMGLWebGLState=t,this.notifyObservers(),this.renderer._initGL(e)),n(),t()}),this.map.addLayer({id:e,type:"custom-webgl"},t),this._layers.push(e),this.move()}needRefresh(){this.map.repaint=!0}move(){var e=this.map.getCenter();this.renderer.setCenter(e.lng/180,l(e).y/o),this.renderer.setZoom(this.getZoom()),this.notifyObservers()}notifyObservers(){Object.keys(this.moveObservers).map(e=>this.moveObservers[e]())}getZoom(){var e=this.map.getBounds(),t=this.map.getCenter(),r=e.getNorthWest(),n=e.getSouthWest(),i=(l(r).y-l(n).y)/f;return this.renderer.setCenter(t.lng/180,l(t).y/o),i}}function l(e){let t=e.lat*i;return{x:e.lng*i*a,y:Math.log(Math.tan(t/2+Math.PI/4))*a}}},function(e,t,r){"use strict";var n=r(6),i=(r.n(n),r(9)),a=r(5);t.a=class extends i.a{constructor(e,t,r){super(),this._checkQuery(e),this._query=e,this.initialize(t,r)}_checkQuery(e){if(n.isUndefined(e))throw new a.a("source","queryRequired");if(!n.isString(e))throw new a.a("source","queryStringRequired");if(n.isEmpty(e))throw new a.a("source","nonValidQuery");if(!e.match(/(SELECT|select)\s+.*\s+(FROM|from)\s+.*/))throw new a.a("source","nonValidSQLQuery")}}}])});
//# sourceMappingURL=carto-gl.min.js.map