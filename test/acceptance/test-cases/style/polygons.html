<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../hide-attribution.js"></script>
    <!-- Include CARTO GL JS -->
    <script src="../../../../dist/carto-gl.js"></script>
    <!-- Include Mapbox GL JS -->
    <script src="../../../../vendor/mapbox-gl-dev.js"></script>
    <!-- Include Mapbox GL CSS -->
    <link href='../mapbox-gl-v0.42.2.css' rel='stylesheet' />
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            height: 100%;
            width: 100%;
        }
    </style>
</head>

<body>
    <div id='map'></div>
</body>
<script>
    const map = new mapboxgl.Map({
        container: 'map',
        style: { "version": 8, "sources": {}, "layers": [] },
        center: [-20.061035156250004, 33.211116472416855],
        zoom: 4,
    });

    const auth = {
        user: 'cartogl',
        apiKey: 'YOUR_API_KEY'
    };

    carto.setDefaultAuth(auth);
    const s = carto.style.expressions;
    const source = new carto.source.SQL('SELECT ST_Multi(the_geom_webmercator) as the_geom_webmercator, ST_Multi(the_geom) as the_geom FROM polygons_0', auth);
    const style = new carto.Style({
        width: s.float(100),
        color: s.rgba(0, .5, .5, .9),
        // strokeColor: s.cielab(20, 40, 40), // Not supported
        // strokeWidth: s.float(10), // Not supported
    });
    const layer = new carto.Layer('myCartoLayer', source, style);
    layer.addTo(map);
</script>

</html>
